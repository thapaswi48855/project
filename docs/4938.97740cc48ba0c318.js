"use strict";(self.webpackChunksakiademo=self.webpackChunksakiademo||[]).push([[4938],{4938:(T,u,t)=>{t.r(u),t.d(u,{GenericsubclassificationdetailsModule:()=>y});var b=t(6814),g=t(5861),c=t(6990),d=t(7934),p=t(1038),s=t(4946),C=t(6113),f=t(7664),m=t(5219),h=t(7338),M=t(8911),v=t(2154),S=t(6782);let N=(()=>{var o;class l{constructor(e,i,a){this._service=e,this._activatedRoute=i,this._messageService=a,this.pageTitle="Generic Sub Classification",this.onSubmit=!0,this.onClear=!0,this.onEdit=!1,this.onView=!1,this.pageMode="NEW",this.isEditable=!1,this.isShowEditable=!0,this.redirectToGrid=!1,this.genericSubClassification={genSubClasiId:0,clasificationName:"",subClasificationName:"",subClasificationDesc:"",status:"ZLS11",createdt:null,createby:this._service.getUserVal("userid"),modifydt:null,modifyby:""},this.emptyGenericSubClassification=JSON.stringify(this.genericSubClassification),this.geneticClassificationList=[],this.statusList=[],this.zeroLevelEntity=[],this.errorMsgs={clasificationNameReq:"",subClasificationNameReq:""},this.emptyErrorMsgs=JSON.stringify(this.errorMsgs)}onGetErrorMsgs(e,i){switch(e){case"clasificationName":this.errorMsgs.clasificationNameReq=""==this.genericSubClassification[e]||null==this.genericSubClassification[e]||null==this.genericSubClassification[e]?this._service.onGetErrorMsgs(e,!0,"Clasification Name"):"";break;case"subClasificationName":this.errorMsgs.subClasificationNameReq=""==this.genericSubClassification[e]||null==this.genericSubClassification[e]||null==this.genericSubClassification[e]?this._service.onGetErrorMsgs(e,!0,"Sub Clasification Name"):""}}ngOnInit(){var e=this;return(0,g.Z)(function*(){0==Object.keys(e._service.appConfig).length&&(yield e._service.getConfigData()),e._service.serGetDataobject("getGeneralMaster",{masterid:"ZLS1"}).subscribe(i=>{e.statusList=i.data[0].subMasterData}),e._service.serGetDataobject("getGenericClassificationDetails",{status:"ZLS11"}).subscribe(i=>{e.geneticClassificationList=i.data}),e._service.serGetData("getGeneralMaster").subscribe(i=>{e.zeroLevelEntity=i.data;let a=c.filter(e.zeroLevelEntity,{masterid:"ZLC9"});c.forEach(a,(n,J)=>{e.statusList.push({label:n.mastername,value:n._id})})}),e._activatedRoute.paramMap.subscribe(i=>{let a=i.get("param");null!=a?(a=JSON.parse(atob(a)),e.getMasterData(a.genSubClasiId),e.pageMode=a.mode):(e.isEditable=!0,e.pageMode="NEW"),e.isEditable="VIEW"!=e.pageMode})})()}getMasterData(e){this._service.serGetDataobject("getGenericSubClassificationDetails",{genSubClasiId:e}).subscribe(i=>{console.log("dt",i),this.genericSubClassification={genSubClasiId:i.data[0].genSubClasiId,clasificationName:i.data[0].clasificationName,subClasificationName:i.data[0].subClasificationName,subClasificationDesc:i.data[0].subClasificationDesc,status:i.data[0].status,createdt:i.data[0].createdt,createby:i.data[0].createby,modifydt:null,modifyby:this._service.getUserVal("userid")},this.isShowEditable=!this.isEditable&&"NEW"!=this.pageMode})}onSaveClick(){if(c.forEach(["clasificationName","subClasificationName"],n=>{this.onGetErrorMsgs(n,!0)}),this._service.showErr(this.errorMsgs))return void this._messageService.add({sticky:!0,severity:"warn",summary:"Warn",detail:"Please Check the below Errors"});let a=this.genericSubClassification;console.log(this.genericSubClassification),this.saving.onSaveJson(this.pageTitle,"insertGenericSubClassificationDetails",[a]),this.redirectToGrid="NEW"!=this.pageMode,this.onClearClick()}onClearClick(){"NEW"==this.pageMode?(this.genericSubClassification=JSON.parse(this.emptyGenericSubClassification),this.isEditable=!0):this.isEditable=!1,this.errorMsgs=JSON.parse(this.emptyErrorMsgs)}}return(o=l).\u0275fac=function(e){return new(e||o)(s.Y36(C.f),s.Y36(f.gz),s.Y36(m.ez))},o.\u0275cmp=s.Xpm({type:o,selectors:[["app-genericsubclassificationdetails"]],viewQuery:function(e,i){if(1&e&&(s.Gf(d.G,5),s.Gf(p.g,5)),2&e){let a;s.iGM(a=s.CRH())&&(i.header=a.first),s.iGM(a=s.CRH())&&(i.saving=a.first)}},decls:17,vars:28,consts:[[1,""],[3,"pageTitle","onSubmit","onGrid","onAddNew","onClear","onEdit","onView","redirectToGrid","submitClick","clearClick"],["headers",""],[1,"div-padding"],[1,"grid"],[1,"col-12","col-offset-0","md:col-6","md:col-offset-3","lg:col-4","lg:col-offset-4","xl:col-4","xl:col-offset-4"],[1,"card"],[1,"col-12"],[3,"labelName","options","inputModel","errorMessages","optionLabel","optionValue","inputModelChange","onBlur"],[3,"labelName","inputModel","errorMessages","disabled","pKeyFilter","inputModelChange","onBlur"],[3,"labelName","options","inputModel","optionLabel","optionValue","disabled","inputModelChange"],[3,"labelName","inputModel","disabled","inputModelChange"],["saving",""]],template:function(e,i){1&e&&(s.TgZ(0,"div",0)(1,"div")(2,"app-header",1,2),s.NdJ("submitClick",function(){return i.onSaveClick()})("clearClick",function(){return i.onClearClick()}),s.qZA()(),s.TgZ(4,"p-scrollPanel")(5,"div",3)(6,"div",4)(7,"div",5)(8,"div",6)(9,"div",4)(10,"div",7)(11,"app-dropdown",8),s.NdJ("inputModelChange",function(n){return i.genericSubClassification.clasificationName=n})("onBlur",function(){return i.onGetErrorMsgs("clasificationName",!0)}),s.qZA(),s.TgZ(12,"app-inputtext",9),s.NdJ("inputModelChange",function(n){return i.genericSubClassification.subClasificationName=n})("onBlur",function(){return i.onGetErrorMsgs("subClasificationName",!0)}),s.qZA(),s.TgZ(13,"app-dropdown",10),s.NdJ("inputModelChange",function(n){return i.genericSubClassification.status=n}),s.qZA(),s.TgZ(14,"app-inputtext",11),s.NdJ("inputModelChange",function(n){return i.genericSubClassification.subClasificationDesc=n}),s.qZA()()()()()()()()(),s._UZ(15,"app-saving",null,12)),2&e&&(s.xp6(2),s.Q6J("pageTitle",i.pageTitle)("onSubmit",i.onSubmit)("onGrid",!0)("onAddNew",!1)("onClear",i.onClear)("onEdit",i.onEdit)("onView",i.onView)("redirectToGrid",i.redirectToGrid),s.xp6(9),s.s9C("errorMessages",i.errorMsgs.clasificationNameReq),s.Q6J("labelName","Clasification Name")("options",i.geneticClassificationList)("inputModel",i.genericSubClassification.clasificationName)("optionLabel","clasificationName")("optionValue","genericClassificationId"),s.xp6(1),s.s9C("errorMessages",i.errorMsgs.subClasificationNameReq),s.Q6J("labelName","Sub Clasification Name")("inputModel",i.genericSubClassification.subClasificationName)("disabled",!i.isEditable)("pKeyFilter","alpha"),s.xp6(1),s.Q6J("labelName","Status")("options",i.statusList)("inputModel",i.genericSubClassification.status)("optionLabel","subMasterName")("optionValue","subMasterId")("disabled","EDIT"!=i.pageMode),s.xp6(1),s.Q6J("labelName","Clasification Description")("inputModel",i.genericSubClassification.subClasificationDesc)("disabled",!i.isEditable))},dependencies:[h.P,M.G,v.J,d.G,p.g,S.Fr]}),l})();var G=t(8032);const E=[{path:"",component:N}];let y=(()=>{var o;class l{}return(o=l).\u0275fac=function(e){return new(e||o)},o.\u0275mod=s.oAB({type:o}),o.\u0275inj=s.cJS({imports:[b.ez,G.u,f.Bz.forChild(E)]}),l})()}}]);