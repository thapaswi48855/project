"use strict";(self.webpackChunksakiademo=self.webpackChunksakiademo||[]).push([[529],{529:(L,p,r)=>{r.r(p),r.d(p,{DepartmentModule:()=>N});var h=r(6814),g=r(5861),l=r(7934),m=r(1038),c=r(6990),t=r(4946),C=r(6113),u=r(7664),M=r(5219),b=r(7338),f=r(8911),v=r(2154),D=r(6782);const T=function(){return{width:"100%",height:" calc(100vh - 120px)"}};let y=(()=>{var s;class o{constructor(a,e,n){this._service=a,this._activatedRoute=e,this._messageService=n,this.pageTitle="Department",this.onSubmit=!0,this.onClear=!0,this.onEdit=!1,this.onView=!1,this.pageMode="NEW",this.isEditable=!1,this.isShowEditable=!0,this.redirectToGrid=!1,this.department={departmentId:0,department:"",departmentType:"",allowedGender:"ZLG11",costCenterCode:"",referralDoctorAsOrderingClinician:"ZLAS11",status:"ZLS11",createdt:null,createby:this._service.getUserVal("userid"),modifydt:null,modifyby:""},this.emptyDepartment=JSON.stringify(this.department),this.geneticClassificationList=[],this.geneticSubClassificationList=[],this.zeroLevelEntity=[],this.critialityList=[],this.statusList=[],this.errorMsgs={departmentReq:"",departmentTypeReq:""},this.departmentTypeList=[],this.genderList=[],this.referralDoctor=[]}onGetErrorMsgs(a,e){switch(a){case"department":this.errorMsgs.departmentReq=""==this.department[a]||null==this.department[a]||null==this.department[a]?this._service.onGetErrorMsgs(a,!0,"Department Name"):"";break;case"departmentType":this.errorMsgs.departmentTypeReq=""==this.department[a]||null==this.department[a]||null==this.department[a]?this._service.onGetErrorMsgs(a,!0,"Department Type"):""}}ngOnInit(){var a=this;return(0,g.Z)(function*(){0==Object.keys(a._service.appConfig).length&&(yield a._service.getConfigData()),a._activatedRoute.paramMap.subscribe(e=>{let n=e.get("param");null!=n?(n=JSON.parse(atob(n)),a.getMasterData(n.departmentId),a.pageMode=n.mode):(a.isEditable=!0,a.pageMode="NEW"),a.isEditable="VIEW"!=a.pageMode}),a._service.serGetDataobject("getGeneralMaster",{masterid:"ZLS1"}).subscribe(e=>{a.statusList=e.data[0].subMasterData}),a._service.serGetDataobject("getGeneralMaster",{masterid:"ZLDT1"}).subscribe(e=>{a.departmentTypeList=e.data[0].subMasterData}),a._service.serGetDataobject("getGeneralMaster",{masterid:"ZLG1"}).subscribe(e=>{a.genderList=e.data[0].subMasterData}),a._service.serGetDataobject("getGeneralMaster",{masterid:"\tZLAS2"}).subscribe(e=>{a.referralDoctor=e.data[0].subMasterData})})()}getMasterData(a){this._service.serGetDataobject("getDepartment",{departmentId:a}).subscribe(e=>{this.department={departmentId:e.data[0].departmentId,department:e.data[0].department,departmentType:e.data[0].departmentType,allowedGender:e.data[0].allowedGender,costCenterCode:e.data[0].costCenterCode,referralDoctorAsOrderingClinician:e.data[0].referralDoctorAsOrderingClinician,status:e.data[0].status,createdt:e.data[0].createdt,createby:e.data[0].createby,modifydt:null,modifyby:this._service.getUserVal("userid")},this.isShowEditable=!this.isEditable&&"NEW"!=this.pageMode})}onGridClick(){}onSaveClick(){c.forEach(["department","departmentType"],i=>{}),this._service.showErr(this.errorMsgs)&&this._messageService.add({sticky:!0,severity:"warn",summary:"Warn",detail:"Please Check the below Errors"}),this.saving.onSaveJson(this.pageTitle,"insertDepartment",[this.department]),this.onClearClick(),this.redirectToGrid="NEW"!=this.pageMode}onClearClick(){this.department=JSON.parse(this.emptyDepartment)}}return(s=o).\u0275fac=function(a){return new(a||s)(t.Y36(C.f),t.Y36(u.gz),t.Y36(M.ez))},s.\u0275cmp=t.Xpm({type:s,selectors:[["app-department"]],viewQuery:function(a,e){if(1&a&&(t.Gf(l.G,5),t.Gf(m.g,5)),2&a){let n;t.iGM(n=t.CRH())&&(e.header=n.first),t.iGM(n=t.CRH())&&(e.saving=n.first)}},decls:16,vars:43,consts:[[1,""],[3,"pageTitle","onSubmit","onGrid","onAddNew","onClear","onEdit","onView","redirectToGrid","submitClick","clearClick"],["headers",""],[1,"div-padding"],[1,"card"],[1,"field","col-12","md:col-6","sm:col-6","lg:col-3","xl:col-3"],["pKeyFilter","alpha",3,"labelName","inputModel","disabled","errorMessages","inputModelChange","onBlur"],[3,"labelName","inputModel","options","disabled","errorMessages","optionLabel","optionValue","inputModelChange","onBlur"],[3,"labelName","inputModel","disabled","options","optionLabel","optionValue","inputModelChange"],[3,"labelName","inputModel","options","disabled","optionLabel","optionValue","inputModelChange"],["pKeyFilter","alphanum",3,"labelName","inputModel","disabled","inputModelChange"],["saving",""]],template:function(a,e){1&a&&(t.TgZ(0,"div",0)(1,"div")(2,"app-header",1,2),t.NdJ("submitClick",function(){return e.onSaveClick()})("clearClick",function(){return e.onClearClick()}),t.qZA()(),t.TgZ(4,"div",3)(5,"div",4)(6,"p-scrollPanel")(7,"div",5)(8,"app-inputtext",6),t.NdJ("inputModelChange",function(i){return e.department.department=i})("onBlur",function(){return e.onGetErrorMsgs("department",!0)}),t.qZA(),t.TgZ(9,"app-dropdown",7),t.NdJ("inputModelChange",function(i){return e.department.departmentType=i})("onBlur",function(){return e.onGetErrorMsgs("departmentType",!0)}),t.qZA(),t.TgZ(10,"app-dropdown",8),t.NdJ("inputModelChange",function(i){return e.department.status=i}),t.qZA(),t.TgZ(11,"app-dropdown",9),t.NdJ("inputModelChange",function(i){return e.department.allowedGender=i}),t.qZA(),t.TgZ(12,"app-inputtext",10),t.NdJ("inputModelChange",function(i){return e.department.costCenterCode=i}),t.qZA(),t.TgZ(13,"app-dropdown",8),t.NdJ("inputModelChange",function(i){return e.department.referralDoctorAsOrderingClinician=i}),t.qZA()()()()()(),t._UZ(14,"app-saving",null,11)),2&a&&(t.xp6(2),t.Q6J("pageTitle",e.pageTitle)("onSubmit",e.onSubmit)("onGrid",!0)("onAddNew",!1)("onClear",e.onClear)("onEdit",e.onEdit)("onView",e.onView)("redirectToGrid",e.redirectToGrid),t.xp6(4),t.Akn(t.DdM(42,T)),t.xp6(2),t.s9C("errorMessages",e.errorMsgs.departmentReq),t.Q6J("labelName","Department")("inputModel",e.department.department)("disabled",!e.isEditable),t.xp6(1),t.s9C("errorMessages",e.errorMsgs.departmentTypeReq),t.Q6J("labelName","Department Type")("inputModel",e.department.departmentType)("options",e.departmentTypeList)("disabled",!e.isEditable)("optionLabel","subMasterName")("optionValue","subMasterId"),t.xp6(1),t.Q6J("labelName","Status")("inputModel",e.department.status)("disabled","EDIT"!=e.pageMode)("options",e.statusList)("optionLabel","subMasterName")("optionValue","subMasterId"),t.xp6(1),t.Q6J("labelName","Allowed Gender")("inputModel",e.department.allowedGender)("options",e.genderList)("disabled",!e.isEditable)("optionLabel","subMasterName")("optionValue","subMasterId"),t.xp6(1),t.Q6J("labelName","Cost Center Code")("inputModel",e.department.costCenterCode)("disabled",!e.isEditable),t.xp6(1),t.Q6J("labelName","Send Referral Doctor As Ordering Clinician")("inputModel",e.department.referralDoctorAsOrderingClinician)("disabled",!e.isEditable)("options",e.referralDoctor)("optionLabel","subMasterName")("optionValue","subMasterId"))},dependencies:[b.P,f.G,v.J,l.G,m.g,D.Fr],encapsulation:2}),o})();var G=r(8032);const E=[{path:"",component:y}];let N=(()=>{var s;class o{}return(s=o).\u0275fac=function(a){return new(a||s)},s.\u0275mod=t.oAB({type:s}),s.\u0275inj=t.cJS({imports:[h.ez,G.u,u.Bz.forChild(E)]}),o})()}}]);