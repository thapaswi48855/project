"use strict";(self.webpackChunksakiademo=self.webpackChunksakiademo||[]).push([[9142],{9142:(J,u,r)=>{r.r(u),r.d(u,{TaxgroupModule:()=>E});var m=r(6814),l=r(5861),d=r(7934),g=r(1038),M=r(6990),a=r(4946),c=r(6113),h=r(7664),b=r(5219),x=r(7338),C=r(8911),T=r(2154);const v=function(){return{width:"100%",height:" calc(100vh - 120px)"}};let f=(()=>{var i;class n{constructor(e,t,o){this._service=e,this._activatedRoute=t,this._messageService=o,this.pageTitle="Tax Group",this.onSubmit=!0,this.onClear=!0,this.onEdit=!1,this.onView=!1,this.pageMode="NEW",this.isEditable=!1,this.isShowEditable=!0,this.redirectToGrid=!1,this.serviceGroupList=[],this.taxgroup={taxgrouptype:"ZLTGT11",taxgroup:"",taxgroupcode:"",displayorder:"",status:"ZLS11",createdt:null,createby:"",modifydt:null,modifyby:""},this.emptytaxgroup=JSON.stringify(this.taxgroup),this.errorMsgs={taxgroupNameReq:"",taxgroupcodeNameReq:""},this.taxGrpCodeList=[],this.taxGrpTypeList=[],this.statusList=[],this.emptyErrorMsgs=JSON.stringify(this.errorMsgs)}onGetErrorMsgs(e,t){switch(e){case"taxgroup":this.errorMsgs.taxgroupNameReq=""==this.taxgroup[e]||null==this.taxgroup[e]||null==this.taxgroup[e]?this._service.onGetErrorMsgs(e,!0,"Tax Group Name"):"";break;case"taxgroupcode":this.errorMsgs.taxgroupcodeNameReq=""==this.taxgroup[e]||null==this.taxgroup[e]||null==this.taxgroup[e]?this._service.onGetErrorMsgs(e,!0,"Tax Group Code"):""}}ngOnInit(){var e=this;return(0,l.Z)(function*(){0==Object.keys(e._service.appConfig).length&&(yield e._service.getConfigData()),e._service.serGetDataobject("getGeneralMaster",{masterid:"ZLTGT1"}).subscribe(t=>{e.taxGrpTypeList=t.data[0].subMasterData}),e._service.serGetDataobject("getGeneralMaster",{masterid:"ZLTGC1"}).subscribe(t=>{e.taxGrpCodeList=t.data[0].subMasterData}),e._service.serGetDataobject("getGeneralMaster",{masterid:"ZLS1"}).subscribe(t=>{e.statusList=t.data[0].subMasterData}),e._activatedRoute.paramMap.subscribe(t=>{let o=t.get("param");null!=o?(o=JSON.parse(atob(o)),e.getMasterData(o._id),e.pageMode=o.mode):(e.isEditable=!0,e.pageMode="NEW"),e.isEditable="VIEW"!=e.pageMode})})()}getMasterData(e){this._service.serGetDataobject("getTaxGroup",{_id:e}).subscribe(t=>{console.log("dt",t),this.taxgroup=t.data[0],this.taxgroup._id=this.taxgroup._id,this.isShowEditable=!this.isEditable&&"NEW"!=this.pageMode})}onSaveClick(){var e=this;return(0,l.Z)(function*(){if(M.forEach(["taxgroup","taxgroupcode"],y=>{e.onGetErrorMsgs(y,!0)}),e._service.showErr(e.errorMsgs))return void e._messageService.add({sticky:!0,severity:"warn",summary:"Warn",detail:"Please Check the below Errors"});let s=e.taxgroup;yield e.saving.onSaveJson(e.pageTitle,"insertTaxGroup",[s]),e.redirectToGrid="NEW"!=e.pageMode,e.onClearClick()})()}onClearClick(){"NEW"==this.pageMode?(this.taxgroup=JSON.parse(this.emptytaxgroup),this.isEditable=!0):this.isEditable=!1,this.errorMsgs=JSON.parse(this.emptyErrorMsgs)}}return(i=n).\u0275fac=function(e){return new(e||i)(a.Y36(c.f),a.Y36(h.gz),a.Y36(b.ez))},i.\u0275cmp=a.Xpm({type:i,selectors:[["app-taxgroup"]],viewQuery:function(e,t){if(1&e&&(a.Gf(d.G,5),a.Gf(g.g,5)),2&e){let o;a.iGM(o=a.CRH())&&(t.header=o.first),a.iGM(o=a.CRH())&&(t.saving=o.first)}},decls:16,vars:37,consts:[[1,""],[3,"pageTitle","onSubmit","onGrid","onAddNew","onClear","onEdit","onView","redirectToGrid","submitClick","clearClick"],["headers",""],[1,"div-padding"],[1,"card"],[1,"grid"],[1,"field","col-12","md:col-6","sm:col-6","lg:col-3","xl:col-3"],[3,"inputModel","labelName","optionLabel","optionValue","disabled","options","inputModelChange"],[3,"inputModel","labelName","disabled","errorMessages","inputModelChange","onBlur"],[3,"inputModel","labelName","disabled","options","optionLabel","optionValue","errorMessages","inputModelChange","onBlur"],[3,"inputModel","labelName","disabled","inputModelChange"],[3,"inputModel","labelName","disabled","optionLabel","optionValue","options","inputModelChange"],["saving",""]],template:function(e,t){1&e&&(a.TgZ(0,"div",0)(1,"div")(2,"app-header",1,2),a.NdJ("submitClick",function(){return t.onSaveClick()})("clearClick",function(){return t.onClearClick()}),a.qZA()(),a.TgZ(4,"div",3)(5,"div",4)(6,"p-scrollPanel")(7,"div",5)(8,"div",6)(9,"app-dropdown",7),a.NdJ("inputModelChange",function(s){return t.taxgroup.taxgrouptype=s}),a.qZA(),a.TgZ(10,"app-inputtext",8),a.NdJ("inputModelChange",function(s){return t.taxgroup.taxgroup=s})("onBlur",function(){return t.onGetErrorMsgs("taxgroup",!0)}),a.qZA(),a.TgZ(11,"app-dropdown",9),a.NdJ("inputModelChange",function(s){return t.taxgroup.taxgroupcode=s})("onBlur",function(){return t.onGetErrorMsgs("taxgroupcode",!0)}),a.qZA(),a.TgZ(12,"app-inputtext",10),a.NdJ("inputModelChange",function(s){return t.taxgroup.displayorder=s}),a.qZA(),a.TgZ(13,"app-dropdown",11),a.NdJ("inputModelChange",function(s){return t.taxgroup.status=s}),a.qZA()()()()()()(),a._UZ(14,"app-saving",null,12)),2&e&&(a.xp6(2),a.Q6J("pageTitle",t.pageTitle)("onSubmit",t.onSubmit)("onGrid",!0)("onAddNew",!1)("onClear",t.onClear)("onEdit",t.onEdit)("onView",t.onView)("redirectToGrid",t.redirectToGrid),a.xp6(4),a.Akn(a.DdM(36,v)),a.xp6(3),a.Q6J("inputModel",t.taxgroup.taxgrouptype)("labelName","Tax Group Type")("optionLabel","subMasterName")("optionValue","subMasterId")("disabled",!t.isEditable)("options",t.taxGrpTypeList),a.xp6(1),a.s9C("errorMessages",t.errorMsgs.taxgroupNameReq),a.Q6J("inputModel",t.taxgroup.taxgroup)("labelName","Tax Group")("disabled",!t.isEditable),a.xp6(1),a.s9C("errorMessages",t.errorMsgs.taxgroupcodeNameReq),a.Q6J("inputModel",t.taxgroup.taxgroupcode)("labelName","Tax Group Code")("disabled",!t.isEditable)("options",t.taxGrpCodeList)("optionLabel","subMasterName")("optionValue","subMasterId"),a.xp6(1),a.Q6J("inputModel",t.taxgroup.displayorder)("labelName","Display Order")("disabled",!t.isEditable),a.xp6(1),a.Q6J("inputModel",t.taxgroup.status)("labelName","Status")("disabled",!t.isEditable)("optionLabel","subMasterName")("optionValue","subMasterId")("options",t.statusList))},dependencies:[x.P,C.G,T.J,d.G,g.g],encapsulation:2}),n})();var G=r(8032);const N=[{path:"",component:f}];let E=(()=>{var i;class n{}return(i=n).\u0275fac=function(e){return new(e||i)},i.\u0275mod=a.oAB({type:i}),i.\u0275inj=a.cJS({imports:[m.ez,G.u,h.Bz.forChild(N)]}),n})()}}]);