"use strict";(self.webpackChunksakiademo=self.webpackChunksakiademo||[]).push([[758],{758:(E,c,u)=>{u.r(c),u.d(c,{ModuleModule:()=>k});var b=u(6814),M=u(5861),r=u(6990),g=u(7934),e=u(4946),v=u(6113),h=u(7664),f=u(5219),N=u(3714),a=u(95),_=u(9232),T=u(218),Z=u(8911),x=u(1730),A=u(8213);function J(s,i){1&s&&(e.TgZ(0,"tr")(1,"th"),e._uU(2,"Sub Module Name"),e.qZA(),e.TgZ(3,"th"),e._uU(4,"Sub Module Description"),e.qZA(),e.TgZ(5,"th"),e._uU(6,"Actions"),e.qZA()())}function G(s,i){if(1&s){const d=e.EpF();e.TgZ(0,"tr")(1,"td")(2,"input",14),e.NdJ("ngModelChange",function(t){const n=e.CHM(d).$implicit;return e.KtG(n.subModuleName=t)}),e.qZA()(),e.TgZ(3,"td")(4,"input",14),e.NdJ("ngModelChange",function(t){const n=e.CHM(d).$implicit;return e.KtG(n.subModuleDesc=t)}),e.qZA()(),e.TgZ(5,"td")(6,"button",15),e.NdJ("click",function(){e.CHM(d);const t=e.oxw();return e.KtG(t.addSubModules())}),e._uU(7,"A"),e.qZA(),e.TgZ(8,"button",15),e.NdJ("click",function(){const l=e.CHM(d).index,n=e.oxw();return e.KtG(n.removeSubModules(l))}),e._uU(9,"S"),e.qZA()()()}if(2&s){const d=i.$implicit;e.xp6(2),e.Q6J("ngModel",d.subModuleName),e.xp6(2),e.Q6J("ngModel",d.subModuleDesc)}}let S=(()=>{var s;class i{constructor(o,t){this._service=o,this._activactiveRoute=t,this.pageMode="NEW",this.pageTitle="Module",this.onSubmit=!0,this.onGrid=!0,this.onAddNew=!0,this.currentRow=[],this.module={moduleName:"",moduleDescription:"",status:!0},this.emptyDocument=JSON.stringify(this.module),this.subModules=[],this.errorMsgs={moduleNameReq:""}}onGetErrorMsgs(o,t){"moduleName"===o&&(this.errorMsgs.moduleNameReq=""==this.module[o]||null==this.module[o]||null==this.module[o]?this._service.onGetErrorMsgs("moduleName",!0,"Module Name"):"")}ngOnInit(){var o=this;return(0,M.Z)(function*(){0==Object.keys(o._service.appConfig).length&&(yield o._service.getConfigData()),o._activactiveRoute.paramMap.subscribe(function(){var t=(0,M.Z)(function*(l){let n=l.get("param");if(null!=n&&null!=n){let m=JSON.parse(atob(n));console.log(m),o._service.serGetDataobject("getModules",{_id:m._id}).subscribe(C=>{console.log(C),o.currentRow=C.data[0],o.module={moduleName:o.currentRow.modulename,moduleDescription:o.currentRow.moduledesc,status:o.currentRow.status,submodel:[]},r.forEach(o.currentRow.submodel,(p,R)=>{o.module.submodel.push({subModuleName:p.submodulename,subModuleDesc:p.submoduledesc,submodelstatus:p.submodelstatus})})}),o.pageMode="EDIT"}});return function(l){return t.apply(this,arguments)}}())})()}onGridClick(){}addSubModules(){this.subModules.push({subModuleName:"",subModuleDesc:"",subStatus:""})}removeSubModules(o){}onSaveClick(){if(r.forEach(["moduleName"],n=>{this.onGetErrorMsgs(n,!0)}),this._service.showErr(this.errorMsgs))return;let l={modulename:this.module.moduleName,moduledesc:this.module.moduleDescription,status:1==this.module.status?"A":"D",submodel:[]};this.subModules.length>0&&r.forEach(this.subModules,(n,m)=>{l.submodel.push({submodulename:n.subModuleName,submoduledesc:n.subModuleDesc,submodelstatus:"A"})}),this._service.onSaveJson(this.pageTitle,"insertModule",[l]),this.onClearClick()}onClearClick(){}}return(s=i).\u0275fac=function(o){return new(o||s)(e.Y36(v.f),e.Y36(h.gz))},s.\u0275cmp=e.Xpm({type:s,selectors:[["app-module"]],viewQuery:function(o,t){if(1&o&&e.Gf(g.G,5),2&o){let l;e.iGM(l=e.CRH())&&(t.header=l.first)}},decls:17,vars:19,consts:[[1,""],[3,"pageTitle","onSubmit","onGrid","onAddNew","gridClick","submitClick","clearClick"],["header",""],[1,"grid"],[1,"col","col-4"],[1,"col-8","py-2"],[3,"inputModel","labelName","errorMessages","inputModelChange","onBlur"],[3,"labelName","rows","cols","inputModel","inputModelChange"],[3,"labelName","inputModel","inputModelChange"],[1,"col","p-4","pr-6"],["styleClass","p-datatable-gridlines","scrollHeight","400px",3,"value","paginator","rows","responsive","resizableColumns","scrollable"],["dt",""],["pTemplate","header"],["pTemplate","body"],["type","text","pInputText","","pAutoFocus","",2,"padding","10px",3,"ngModel","ngModelChange"],[3,"click"]],template:function(o,t){1&o&&(e.TgZ(0,"div",0)(1,"div")(2,"app-header",1,2),e.NdJ("gridClick",function(){return t.onGridClick()})("submitClick",function(){return t.onSaveClick()})("clearClick",function(){return t.onClearClick()}),e.qZA()(),e.TgZ(4,"div",3)(5,"div",4)(6,"div",5)(7,"app-inputtext",6),e.NdJ("inputModelChange",function(n){return t.module.moduleName=n})("onBlur",function(){return t.onGetErrorMsgs("moduleName",!0)}),e.qZA()(),e.TgZ(8,"div",5)(9,"app-textarea",7),e.NdJ("inputModelChange",function(n){return t.module.moduleDescription=n}),e.qZA()(),e.TgZ(10,"div",5)(11,"app-checkbox",8),e.NdJ("inputModelChange",function(n){return t.module.status=n}),e.qZA()()(),e.TgZ(12,"div",9)(13,"p-table",10,11),e.YNc(15,J,7,0,"ng-template",12),e.YNc(16,G,10,2,"ng-template",13),e.qZA()()()()),2&o&&(e.xp6(2),e.Q6J("pageTitle",t.pageTitle)("onSubmit",t.onSubmit)("onGrid",t.onGrid)("onAddNew",t.onAddNew),e.xp6(5),e.s9C("errorMessages",t.errorMsgs.moduleNameReq),e.Q6J("inputModel",t.module.moduleName)("labelName","Module Name"),e.xp6(2),e.Q6J("labelName","Module Description")("rows","2")("cols","5")("inputModel",t.module.moduleDescription),e.xp6(2),e.Q6J("labelName","Status")("inputModel",t.module.status),e.xp6(2),e.Q6J("value",t.subModules)("paginator",!1)("rows",25)("responsive",!0)("resizableColumns",!0)("scrollable",!0))},dependencies:[f.jx,N.o,a.Fj,a.JJ,a.On,_.iA,T.P,Z.G,g.G,x.b,A.R]}),i})();var y=u(8032);const D=[{path:"",component:S}];let k=(()=>{var s;class i{}return(s=i).\u0275fac=function(o){return new(o||s)},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({imports:[b.ez,y.u,h.Bz.forChild(D)]}),i})()}}]);