"use strict";(self.webpackChunksakiademo=self.webpackChunksakiademo||[]).push([[8530],{8530:(Z,p,o)=>{o.r(p),o.d(p,{TaxsubgroupModule:()=>S});var h=o(6814),l=o(5861),d=o(7934),g=o(1038),m=o(6990),e=o(4946),x=o(6113),b=o(7664),M=o(5219),v=o(7791),T=o(7338),C=o(8911),f=o(2154),c=o(8213),E=o(5996);const y=function(){return{width:"100%",height:" calc(100vh - 164px)"}};let N=(()=>{var i;class n{constructor(a,t,s){this._service=a,this._activatedRoute=t,this._messageService=s,this.pageTitle="Tax Sub Group",this.onSubmit=!0,this.onClear=!0,this.onEdit=!1,this.onView=!1,this.pageMode="NEW",this.isEditable=!1,this.isShowEditable=!0,this.redirectToGrid=!1,this.serviceGroupList=[],this.statusList=[],this.taxGroupList=[],this.taxsubgroup={taxgroup:"",taxsubgroup:"",status:"ZLS11",displayorder:"",taxrate:"",validityStartDt:null,validityEndDt:null,taxrateexpression:"",createdt:null,createby:"",modifydt:null,modifyby:""},this.emptytaxsubgroup=JSON.stringify(this.taxsubgroup),this.errorMsgs={taxgroupeNameReq:"",taxsubgroupNameReq:"",taxrateReq:"",validityStartDtReq:""},this.emptyErrorMsgs=JSON.stringify(this.errorMsgs)}onGetErrorMsgs(a,t){switch(a){case"taxgroup":this.errorMsgs.taxgroupeNameReq=""==this.taxsubgroup[a]||null==this.taxsubgroup[a]||null==this.taxsubgroup[a]?this._service.onGetErrorMsgs(a,!0,"Tax Group Name"):"";break;case"taxsubgroup":this.errorMsgs.taxsubgroupNameReq=""==this.taxsubgroup[a]||null==this.taxsubgroup[a]||null==this.taxsubgroup[a]?this._service.onGetErrorMsgs(a,!0,"Tax Sub Group Name"):"";break;case"taxrate":this.errorMsgs.taxrateReq=""==this.taxsubgroup[a]||null==this.taxsubgroup[a]||null==this.taxsubgroup[a]?this._service.onGetErrorMsgs(a,!0,"Tax Rate"):"";break;case"validityStartDt":this.errorMsgs.validityStartDtReq=""==this.taxsubgroup[a]||null==this.taxsubgroup[a]||null==this.taxsubgroup[a]?this._service.onGetErrorMsgs(a,!0,"Tax Start Date"):""}}ngOnInit(){var a=this;return(0,l.Z)(function*(){0==Object.keys(a._service.appConfig).length&&(yield a._service.getConfigData()),a._service.serGetDataobject("getTaxGroup",{status:"ZLS11"}).subscribe(t=>{a.taxGroupList=t.data,console.log("categoryList",a.serviceGroupList)}),a._service.serGetDataobject("getGeneralMaster",{masterid:"ZLS1"}).subscribe(t=>{a.statusList=t.data[0].subMasterData}),a._activatedRoute.paramMap.subscribe(t=>{let s=t.get("param");null!=s?(s=JSON.parse(atob(s)),a.getMasterData(s._id),a.pageMode=s.mode):(a.isEditable=!0,a.pageMode="NEW"),a.isEditable="VIEW"!=a.pageMode})})()}getMasterData(a){this._service.serGetDataobject("getTaxSubGroup",{_id:a}).subscribe(t=>{console.log("dt",t),this.taxsubgroup=t.data[0],this.taxsubgroup._id=this.taxsubgroup._id,this.isShowEditable=!this.isEditable&&"NEW"!=this.pageMode})}onSaveClick(){var a=this;return(0,l.Z)(function*(){if(m.forEach(["taxgroup","taxsubgroup","taxrate","validityStartDt"],J=>{a.onGetErrorMsgs(J,!0)}),a._service.showErr(a.errorMsgs))return void a._messageService.add({sticky:!0,severity:"warn",summary:"Warn",detail:"Please Check the below Errors"});let r=a.taxsubgroup;yield a.saving.onSaveJson(a.pageTitle,"insertTaxSubGroup",[r]),a.redirectToGrid="NEW"!=a.pageMode,a.onClearClick()})()}onClearClick(){"NEW"==this.pageMode?(this.taxsubgroup=JSON.parse(this.emptytaxsubgroup),this.isEditable=!0):this.isEditable=!1,this.errorMsgs=JSON.parse(this.emptyErrorMsgs)}}return(i=n).\u0275fac=function(a){return new(a||i)(e.Y36(x.f),e.Y36(b.gz),e.Y36(M.ez))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-taxsubgroup"]],viewQuery:function(a,t){if(1&a&&(e.Gf(d.G,5),e.Gf(g.g,5)),2&a){let s;e.iGM(s=e.CRH())&&(t.header=s.first),e.iGM(s=e.CRH())&&(t.saving=s.first)}},decls:28,vars:46,consts:[[1,""],[3,"pageTitle","onSubmit","onGrid","onAddNew","onClear","onEdit","onView","submitClick","clearClick"],["headers",""],[1,"div-padding"],["legend","Tax Sub Group",3,"toggleable"],[1,"formgrid","grid"],[1,"field","col-12","md:col-4","sm:col-6","lg:col-3","xl:col-3"],[3,"labelName","inputModel","disabled","options","optionLabel","optionValue","errorMessages","inputModelChange","onBlur"],[3,"labelName","inputModel","disabled","errorMessages","inputModelChange","onBlur"],[3,"labelName","inputModel","disabled","optionLabel","optionValue","options","inputModelChange"],[3,"labelName","inputModel","disabled","inputModelChange"],["legend","Tax Sub Group Details",3,"toggleable"],["saving",""]],template:function(a,t){1&a&&(e.TgZ(0,"div",0)(1,"div")(2,"app-header",1,2),e.NdJ("submitClick",function(){return t.onSaveClick()})("clearClick",function(){return t.onClearClick()}),e.qZA()(),e.TgZ(4,"div",3)(5,"p-scrollPanel")(6,"p-fieldset",4)(7,"div",5)(8,"div",6)(9,"app-dropdown",7),e.NdJ("inputModelChange",function(r){return t.taxsubgroup.taxgroup=r})("onBlur",function(){return t.onGetErrorMsgs("taxgroup",!0)}),e.qZA()(),e.TgZ(10,"div",6)(11,"app-inputtext",8),e.NdJ("inputModelChange",function(r){return t.taxsubgroup.taxsubgroup=r})("onBlur",function(){return t.onGetErrorMsgs("taxsubgroup",!0)}),e.qZA()(),e.TgZ(12,"div",6)(13,"app-dropdown",9),e.NdJ("inputModelChange",function(r){return t.taxsubgroup.status=r}),e.qZA()(),e.TgZ(14,"div",6)(15,"app-inputtext",10),e.NdJ("inputModelChange",function(r){return t.taxsubgroup.displayorder=r}),e.qZA()()()(),e.TgZ(16,"p-fieldset",11)(17,"div",5)(18,"div",6)(19,"app-inputtext",8),e.NdJ("inputModelChange",function(r){return t.taxsubgroup.taxrate=r})("onBlur",function(){return t.onGetErrorMsgs("taxrate",!0)}),e.qZA()(),e.TgZ(20,"div",6)(21,"app-datepicker",8),e.NdJ("inputModelChange",function(r){return t.taxsubgroup.validityStartDt=r})("onBlur",function(){return t.onGetErrorMsgs("validityStartDt",!0)}),e.qZA()(),e.TgZ(22,"div",6)(23,"app-datepicker",10),e.NdJ("inputModelChange",function(r){return t.taxsubgroup.validityEndDt=r}),e.qZA()(),e.TgZ(24,"div",6)(25,"app-textarea",10),e.NdJ("inputModelChange",function(r){return t.taxsubgroup.taxrateexpression=r}),e.qZA()()()()()()(),e._UZ(26,"app-saving",null,12)),2&a&&(e.xp6(2),e.Q6J("pageTitle",t.pageTitle)("onSubmit",t.onSubmit)("onGrid",!0)("onAddNew",!1)("onClear",t.onClear)("onEdit",t.onEdit)("onView",t.onView),e.xp6(3),e.Akn(e.DdM(45,y)),e.xp6(1),e.Q6J("toggleable",!0),e.xp6(3),e.s9C("errorMessages",t.errorMsgs.taxgroupeNameReq),e.Q6J("labelName","Tax Group")("inputModel",t.taxsubgroup.taxgroup)("disabled",!t.isEditable)("options",t.taxGroupList)("optionLabel","taxgroup")("optionValue","_id"),e.xp6(2),e.s9C("errorMessages",t.errorMsgs.taxsubgroupNameReq),e.Q6J("labelName","Tax Sub Group")("inputModel",t.taxsubgroup.taxsubgroup)("disabled",!t.isEditable),e.xp6(2),e.Q6J("labelName","Status")("inputModel",t.taxsubgroup.status)("disabled",!t.isEditable)("optionLabel","subMasterName")("optionValue","subMasterId")("options",t.statusList),e.xp6(2),e.Q6J("labelName","Display Order")("inputModel",t.taxsubgroup.displayorder)("disabled",!t.isEditable),e.xp6(1),e.Q6J("toggleable",!0),e.xp6(3),e.s9C("errorMessages",t.errorMsgs.taxrateReq),e.Q6J("labelName","Tax Rate")("inputModel",t.taxsubgroup.taxrate)("disabled",!t.isEditable),e.xp6(2),e.s9C("errorMessages",t.errorMsgs.validityStartDtReq),e.Q6J("labelName","Validity Start")("inputModel",t.taxsubgroup.validityStartDt)("disabled",!t.isEditable),e.xp6(2),e.Q6J("labelName","Validity End")("inputModel",t.taxsubgroup.validityEndDt)("disabled",!t.isEditable),e.xp6(2),e.Q6J("labelName","Tax Rate Expression")("inputModel",t.taxsubgroup.taxrateexpression)("disabled",!t.isEditable))},dependencies:[v.p,T.P,C.G,f.J,d.G,c.R,g.g,E.Q],encapsulation:2}),n})();var G=o(8032);const _=[{path:"",component:N}];let S=(()=>{var i;class n{}return(i=n).\u0275fac=function(a){return new(a||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[h.ez,G.u,b.Bz.forChild(_)]}),n})()}}]);