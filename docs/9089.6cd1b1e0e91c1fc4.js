"use strict";(self.webpackChunkproject1=self.webpackChunkproject1||[]).push([[9089],{2154:(G,c,s)=>{s.d(c,{J:()=>M});var a=s(4946),b=s(6814),g=s(3965),C=s(95),v=s(3259);const e=function(){return{width:"100%"}},T=function(u,m){return{"ng-invalid":u,"ng-dirty":m}};let M=(()=>{var u;class m{constructor(){this.inputModel="",this.errorMessages="",this.appendTo="body",this.labelName="",this.isMandatoryIcon=!1,this.disabled=!1,this.dropdownAxis=!1,this.optionLabel="",this.optionValue="",this.options=[{optionValue:"",optionLabel:"Select One"}],this.onBlur=new a.vpe,this.onChange=new a.vpe,this.inputModelChange=new a.vpe}ngOnInit(){}onLeaveControl(){this.inputModelChange.emit(this.inputModel),this.onBlur.emit(!0)}onChangeControl(){this.inputModelChange.emit(this.inputModel),this.onChange.emit(!0)}}return(u=m).\u0275fac=function(h){return new(h||u)},u.\u0275cmp=a.Xpm({type:u,selectors:[["app-dropdown"]],inputs:{inputModel:"inputModel",errorMessages:"errorMessages",appendTo:"appendTo",labelName:"labelName",isMandatoryIcon:"isMandatoryIcon",disabled:"disabled",dropdownAxis:"dropdownAxis",optionLabel:"optionLabel",optionValue:"optionValue",options:"options"},outputs:{onBlur:"onBlur",onChange:"onChange",inputModelChange:"inputModelChange"},decls:8,vars:20,consts:[[1,"justify-content-center"],[1,"flex","flex-column","gap-2"],[3,"ngClass"],[1,"border-round","white-space-nowrap","overflow-hidden","text-overflow-ellipsis",3,"htmlFor"],["aria-describedby","username-help","filterBy","label",3,"filter","options","ngModel","optionLabel","optionValue","appendTo","ngClass","disabled","placeholder","ngModelChange","onBlur","onChange"],["id","username-help","tooltipPosition","top",1,"errorMessages",3,"pTooltip"]],template:function(h,l){1&h&&(a.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"label",3),a._uU(4),a.qZA(),a.TgZ(5,"p-dropdown",4),a.NdJ("ngModelChange",function(D){return l.inputModel=D})("onBlur",function(){return l.onLeaveControl()})("onChange",function(){return l.onChangeControl()}),a.qZA(),a.TgZ(6,"small",5),a._uU(7),a.qZA()()()()),2&h&&(a.xp6(2),a.Q6J("ngClass",!0===l.dropdownAxis?"formgroup-inline":"displayBlock"),a.xp6(1),a.s9C("htmlFor",l.labelName),a.xp6(1),a.Oqu(l.labelName),a.xp6(1),a.Akn(a.DdM(16,e)),a.MGl("placeholder","Select ",l.labelName,""),a.Q6J("filter",!0)("options",l.options)("ngModel",l.inputModel)("optionLabel",l.optionLabel)("optionValue",l.optionValue)("appendTo",l.appendTo)("ngClass",a.WLB(17,T,""!==l.errorMessages,""!==l.errorMessages))("disabled",l.disabled),a.xp6(1),a.s9C("pTooltip",l.errorMessages),a.xp6(1),a.Oqu(l.errorMessages))},dependencies:[b.mk,g.Lt,C.JJ,C.On,v.u],styles:[".displayBlock[_ngcontent-%COMP%]{\n    display: contents;\n  }"]}),m})()},9089:(G,c,s)=>{s.r(c),s.d(c,{GeneralmasterModule:()=>S});var a=s(6814),b=s(5861),g=s(7934),C=s(6819),v=s(6990),e=s(4946),T=s(6113),M=s(7664),u=s(5219),m=s(9232),_=s(7338),h=s(8911),l=s(2154),f=s(8213);function D(r,d){if(1&r&&(e.TgZ(0,"th",14),e._uU(1),e._UZ(2,"p-sortIcon",15),e.qZA()),2&r){const o=d.$implicit;e.Q6J("pSortableColumn",o.field)("ngStyle",o.style),e.xp6(1),e.hij(" ",o.header," "),e.xp6(1),e.Q6J("field",o.field)}}function w(r,d){if(1&r&&(e.TgZ(0,"tr"),e.YNc(1,D,3,4,"th",13),e.qZA()),2&r){const o=d.$implicit;e.xp6(1),e.Q6J("ngForOf",o)}}function N(r,d){if(1&r){const o=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td")(4,"app-inputtext",16),e.NdJ("inputModelChange",function(t){const p=e.CHM(o).$implicit;return e.KtG(p.subMasterName=t)}),e.qZA()(),e.TgZ(5,"td")(6,"app-textarea",16),e.NdJ("inputModelChange",function(t){const p=e.CHM(o).$implicit;return e.KtG(p.subMasterDesc=t)}),e.qZA()(),e.TgZ(7,"td")(8,"button",17),e.NdJ("click",function(){e.CHM(o);const t=e.oxw();return e.KtG(t.onAddClick())}),e._uU(9,"A"),e.qZA(),e.TgZ(10,"button",17),e.NdJ("click",function(){const i=e.CHM(o).$implicit,p=e.oxw();return e.KtG(p.onRemoveClick(i))}),e._uU(11,"R"),e.qZA()()()}if(2&r){const o=d.$implicit,n=d.rowIndex;e.xp6(2),e.Oqu(n+1),e.xp6(2),e.Q6J("inputModel",o.subMasterName),e.xp6(2),e.Q6J("inputModel",o.subMasterDesc)}}function y(r,d){if(1&r&&(e._uU(0),e.ALo(1,"json")),2&r){const o=d.$implicit,n=e.oxw();e.HOy(" ",e.lcZ(1,4,o)," Showing ",o.first+1," to ",n.math.min((o.page+1)*o.rows,o.totalRecords)," of ",o.totalRecords," Records ")}}const A=function(){return{width:"100%",height:" calc(100vh - 164px)"}};let E=(()=>{var r;class d{constructor(n,t){this._service=n,this._activatedRoute=t,this.pageTitle="Master",this.onSubmit=!0,this.onClear=!0,this.onEdit=!1,this.onView=!1,this.pageMode="NEW",this.isEditable=!1,this.isShowEditable=!0,this.redirectToGrid=!1,this.showEdit=!0,this.showView=!0,this.subMasterCols=[{field:"masterName",header:"S No.",style:{width:"10rem"}},{field:"masterName",header:"Name",style:{width:"20rem"}},{field:"masterdesc",header:"Description",style:{width:"20rem"}},{field:"Action",header:"Action",style:{width:"5rem"}}],this.subMasterData=[{subMasterId:"",subMasterName:"",subMasterDesc:"",status:!0,createdt:null,createby:"",modifydt:null,modifyby:""}],this.emptysubMasterData=JSON.stringify(this.subMasterData),this.gridData=[],this.onGrid=!0,this.onAddNew=!0,this.master={masterid:"",mastername:"",masterdesc:"",subMasterData:[],status:!0},this.page=!1,this.selectMaster={},this.statusList=[],this.math=Math}ngOnInit(){var n=this;return(0,b.Z)(function*(){0==Object.keys(n._service.appConfig).length&&(yield n._service.getConfigData()),n._service.serGetDataobject("getGeneralMaster",{masterid:"ZLS1"}).subscribe(t=>{console.log(t),n.statusList=t.data[0].subMasterData,console.log("this.statusList",n.statusList)}),n._activatedRoute.paramMap.subscribe(t=>{let i=t.get("param");null!=i?(i=JSON.parse(atob(i)),n.getMasterData(i._id),n.pageMode=i.mode):(n.isEditable=!0,n.pageMode="NEW"),n.isEditable="VIEW"!=n.pageMode})})()}getMasterData(n){this._service.serGetDataobject("getGeneralMaster",{_id:n}).subscribe(t=>{console.log("dt",t),this.master=t.data[0],this.subMasterData=this.master.subMasterData,this.master.status="A"==this.master.status,this.master._id=this.master._id,this.isShowEditable=!this.isEditable&&"NEW"!=this.pageMode})}onClearClick(){}onSaveClick(){console.log(this.master),this.master.subMasterData=[],v.forEach(this.subMasterData,(t,i)=>{this.master.subMasterData.push({subMasterId:this.master.masterid+`${i+1}`,subMasterName:t.subMasterName,subMasterDesc:t.subMasterDesc,status:!0,createdt:null,createby:"",modifydt:null,modifyby:""})}),this._service.onSaveJson("Store","insertGeneralMaster",[this.master])}onActionClick(n,t){null!=t?(this.getMasterData(n._id),this.pageMode=t):(this.isEditable=!0,this.pageMode="NEW"),this.isEditable="VIEW"!=this.pageMode}onAddClick(){this.subMasterData.push(JSON.parse(this.emptysubMasterData))}onRemoveClick(n){n.status=!1}}return(r=d).\u0275fac=function(n){return new(n||r)(e.Y36(T.f),e.Y36(M.gz))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-generalmaster"]],viewQuery:function(n,t){if(1&n&&(e.Gf(g.G,5),e.Gf(C.J,5)),2&n){let i;e.iGM(i=e.CRH())&&(t.header=i.first),e.iGM(i=e.CRH())&&(t.gridView=i.first)}},decls:17,vars:29,consts:[[1,"d-flex","flex-column","h-100","overflow-hidden"],[3,"pageTitle","onSubmit","onGrid","onAddNew","onClear","onEdit","onView","redirectToGrid","submitClick","clearClick"],[1,"div-padding"],[1,"grid"],[1,"col-3"],[3,"labelName","inputModel","inputModelChange"],[3,"labelName","inputModel","options","optionLabel","optionValue","inputModelChange"],[1,"col-9"],["styleClass","p-datatable-gridlines","scrollHeight","flex",3,"columns","value","paginator","rows","responsive","resizableColumns","scrollable"],["dt",""],["pTemplate","header"],["pTemplate","body"],["pTemplate","paginatorleft"],["pResizableColumn","",3,"pSortableColumn","ngStyle",4,"ngFor","ngForOf"],["pResizableColumn","",3,"pSortableColumn","ngStyle"],[3,"field"],[3,"inputModel","inputModelChange"],[3,"click"]],template:function(n,t){1&n&&(e.TgZ(0,"div",0)(1,"div")(2,"app-header",1),e.NdJ("submitClick",function(){return t.onSaveClick()})("clearClick",function(){return t.onClearClick()}),e.qZA()(),e.TgZ(3,"div",2)(4,"p-scrollPanel")(5,"div",3)(6,"div",4)(7,"app-inputtext",5),e.NdJ("inputModelChange",function(p){return t.master.masterid=p}),e.qZA(),e.TgZ(8,"app-inputtext",5),e.NdJ("inputModelChange",function(p){return t.master.mastername=p}),e.qZA(),e.TgZ(9,"app-dropdown",6),e.NdJ("inputModelChange",function(p){return t.master.status=p}),e.qZA(),e.TgZ(10,"app-textarea",5),e.NdJ("inputModelChange",function(p){return t.master.masterdesc=p}),e.qZA()(),e.TgZ(11,"div",7)(12,"p-table",8,9),e.YNc(14,w,2,1,"ng-template",10),e.YNc(15,N,12,3,"ng-template",11),e.YNc(16,y,2,6,"ng-template",12),e.qZA()()()()()()),2&n&&(e.xp6(2),e.Q6J("pageTitle",t.pageTitle)("onSubmit",t.onSubmit)("onGrid",!0)("onAddNew",!1)("onClear",t.onClear)("onEdit",t.onEdit)("onView",t.onView)("redirectToGrid",t.redirectToGrid),e.xp6(2),e.Akn(e.DdM(28,A)),e.xp6(3),e.Q6J("labelName","ID")("inputModel",t.master.masterid),e.xp6(1),e.Q6J("labelName","Name")("inputModel",t.master.mastername),e.xp6(1),e.Q6J("labelName","Status")("inputModel",t.master.status)("options",t.statusList)("optionLabel","subMasterName")("optionValue","subMasterId"),e.xp6(1),e.Q6J("labelName","Description")("inputModel",t.master.masterdesc),e.xp6(2),e.Q6J("columns",t.subMasterCols)("value",t.subMasterData)("paginator",!0)("rows",25)("responsive",!0)("resizableColumns",!0)("scrollable",!0))},dependencies:[a.sg,a.PC,u.jx,m.iA,m.lQ,m.Q7,m.fz,_.P,h.G,l.J,g.G,f.R,a.Ts]}),d})();var Z=s(8032);const J=[{path:"",component:E}];let S=(()=>{var r;class d{}return(r=d).\u0275fac=function(n){return new(n||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[a.ez,Z.u,M.Bz.forChild(J)]}),d})()}}]);