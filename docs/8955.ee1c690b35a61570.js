"use strict";(self.webpackChunksakiademo=self.webpackChunksakiademo||[]).push([[8955],{8955:(L,l,s)=>{s.r(l),s.d(l,{AdditemcategoryModule:()=>T});var g=s(6814),b=s(5861),C=s(6990),p=s(7934),u=s(1038),e=s(4946),h=s(6113),m=s(7664),y=s(5219),c=s(7338),M=s(8911),v=s(2154);const N=function(){return{width:"100%",height:" calc(100vh - 120px)"}};let f=(()=>{var r;class n{constructor(i,t,a){this._service=i,this._activatedRoute=t,this._messageService=a,this.pageTitle="Item",this.onSubmit=!0,this.onClear=!0,this.onEdit=!1,this.onView=!1,this.pageMode="NEW",this.isEditable=!1,this.isShowEditable=!0,this.zeroLevelEntity=[],this.redirectToGrid=!1,this.itemCategory={categoryName:"",identification:"",issuseType:"",bilable:"ZLAS11",retilable:"ZLAS11",calmiable:"ZLAS11",validateExpireDate:"ZLAS11",discount:"0.0",prescribable:"ZLAS11",assestsTracking:"ZLAS12",status:"ZLS11",drug:"ZLAS12",createdt:null,createby:"",modifydt:null,modifyby:""},this.identificationList=[],this.issuseTypeList=[],this.billableList=[],this.retilableList=[],this.clamiableList=[],this.prescribableList=[],this.asseststrackingList=[],this.drugList=[],this.statusList=[],this.validDateList=[],this.allowStatusList=[],this.emptyItemCategory=JSON.stringify(this.itemCategory),this.errorMsgs={categoryName:""},this.emptyErrorMsgs=JSON.stringify(this.errorMsgs)}onGetErrorMsgs(i,t){"categoryName"===i&&(this.errorMsgs.categoryName=""==this.itemCategory[i]||null==this.itemCategory[i]||null==this.itemCategory[i]?this._service.onGetErrorMsgs("categoryName",!0,"Category Name"):"")}ngOnInit(){var i=this;return(0,b.Z)(function*(){0==Object.keys(i._service.appConfig).length&&(yield i._service.getConfigData()),i._service.serGetDataobject("getGeneralMaster",{masterid:"ZLI1"}).subscribe(t=>{i.identificationList=t.data[0].subMasterData}),i._service.serGetDataobject("getGeneralMaster",{masterid:"ZLIT1"}).subscribe(t=>{i.issuseTypeList=t.data[0].subMasterData}),i._service.serGetDataobject("getGeneralMaster",{masterid:"ZLAS1"}).subscribe(t=>{i.allowStatusList=t.data[0].subMasterData}),i._service.serGetDataobject("getGeneralMaster",{masterid:"ZLS1"}).subscribe(t=>{i.statusList=t.data[0].subMasterData}),i._activatedRoute.paramMap.subscribe(t=>{let a=t.get("param");null!=a?(a=JSON.parse(atob(a)),i.getMasterData(a._id),i.pageMode=a.mode):(i.isEditable=!0,i.pageMode="NEW"),i.isEditable="VIEW"!=i.pageMode})})()}getMasterData(i){this._service.serGetDataobject("getAddItemCategory",{_id:i}).subscribe(t=>{console.log("dt",t),this.itemCategory=t.data[0],this.itemCategory.validateExpireDate=new Date(this.itemCategory.validateExpireDate),this.itemCategory._id=this.itemCategory._id,this.isShowEditable=!this.isEditable&&"NEW"!=this.pageMode})}onGridClick(){}onSaveClick(){if(C.forEach(["categoryName"],o=>{this.onGetErrorMsgs(o,!0)}),this._service.showErr(this.errorMsgs))return void this._messageService.add({sticky:!0,severity:"warn",summary:"Warn",detail:"Please Check the below Errors"});let a=this.itemCategory;console.log(this.itemCategory),this.saving.onSaveJson("Add Item Category","insertAddItemCategory",[a]),this.redirectToGrid="NEW"!=this.pageMode,this.onClearClick()}onClearClick(){"NEW"==this.pageMode?(this.itemCategory=JSON.parse(this.emptyItemCategory),this.isEditable=!0):this.isEditable=!1,this.errorMsgs=JSON.parse(this.emptyErrorMsgs)}}return(r=n).\u0275fac=function(i){return new(i||r)(e.Y36(h.f),e.Y36(m.gz),e.Y36(y.ez))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-additemcategory"]],viewQuery:function(i,t){if(1&i&&(e.Gf(p.G,5),e.Gf(u.g,5)),2&i){let a;e.iGM(a=e.CRH())&&(t.header=a.first),e.iGM(a=e.CRH())&&(t.saving=a.first)}},decls:34,vars:78,consts:[[1,""],[3,"pageTitle","onSubmit","onGrid","onAddNew","onClear","onEdit","onView","redirectToGrid","submitClick","clearClick"],["headers",""],[1,"div-padding"],[1,"card"],[1,"formgrid","grid"],[1,"field","col-12","md:col-5","sm:col-4","lg:col-3","xl:col-3"],[3,"labelName","inputModel","errorMessages","disabled","inputModelChange","onBlur"],[3,"labelName","options","inputModel","disabled","optionLabel","optionValue","inputModelChange"],[3,"labelName","inputModel","disabled","inputModelChange"],["saving",""]],template:function(i,t){1&i&&(e.TgZ(0,"div",0)(1,"div")(2,"app-header",1,2),e.NdJ("submitClick",function(){return t.onSaveClick()})("clearClick",function(){return t.onClearClick()}),e.qZA()(),e.TgZ(4,"div",3)(5,"div",4)(6,"p-scrollPanel")(7,"div",5)(8,"div",6)(9,"app-inputtext",7),e.NdJ("inputModelChange",function(o){return t.itemCategory.categoryName=o})("onBlur",function(){return t.onGetErrorMsgs("categoryName",!0)}),e.qZA()(),e.TgZ(10,"div",6)(11,"app-dropdown",8),e.NdJ("inputModelChange",function(o){return t.itemCategory.identification=o}),e.qZA()(),e.TgZ(12,"div",6)(13,"app-dropdown",8),e.NdJ("inputModelChange",function(o){return t.itemCategory.issuseType=o}),e.qZA()(),e.TgZ(14,"div",6)(15,"app-dropdown",8),e.NdJ("inputModelChange",function(o){return t.itemCategory.bilable=o}),e.qZA()(),e.TgZ(16,"div",6)(17,"app-dropdown",8),e.NdJ("inputModelChange",function(o){return t.itemCategory.retilable=o}),e.qZA()(),e.TgZ(18,"div",6)(19,"app-dropdown",8),e.NdJ("inputModelChange",function(o){return t.itemCategory.calmiable=o}),e.qZA()(),e.TgZ(20,"div",6)(21,"app-dropdown",8),e.NdJ("inputModelChange",function(o){return t.itemCategory.validateExpireDate=o}),e.qZA()(),e.TgZ(22,"div",6)(23,"app-inputtext",9),e.NdJ("inputModelChange",function(o){return t.itemCategory.discount=o}),e.qZA()(),e.TgZ(24,"div",6)(25,"app-dropdown",8),e.NdJ("inputModelChange",function(o){return t.itemCategory.prescribable=o}),e.qZA()(),e.TgZ(26,"div",6)(27,"app-dropdown",8),e.NdJ("inputModelChange",function(o){return t.itemCategory.assestsTracking=o}),e.qZA()(),e.TgZ(28,"div",6)(29,"app-dropdown",8),e.NdJ("inputModelChange",function(o){return t.itemCategory.status=o}),e.qZA()(),e.TgZ(30,"div",6)(31,"app-dropdown",8),e.NdJ("inputModelChange",function(o){return t.itemCategory.drug=o}),e.qZA()()()()()()(),e._UZ(32,"app-saving",null,10)),2&i&&(e.xp6(2),e.Q6J("pageTitle",t.pageTitle)("onSubmit",t.onSubmit)("onGrid",!0)("onAddNew",!1)("onClear",t.onClear)("onEdit",t.onEdit)("onView",t.onView)("redirectToGrid",t.redirectToGrid),e.xp6(4),e.Akn(e.DdM(77,N)),e.xp6(3),e.s9C("errorMessages",t.errorMsgs.categoryName),e.Q6J("labelName","Category Name")("inputModel",t.itemCategory.categoryName)("disabled",!t.isEditable),e.xp6(2),e.Q6J("labelName","Identification")("options",t.identificationList)("inputModel",t.itemCategory.identification)("disabled",!t.isEditable)("optionLabel","subMasterName")("optionValue","subMasterId"),e.xp6(2),e.Q6J("labelName","Issuse Type ")("options",t.issuseTypeList)("inputModel",t.itemCategory.issuseType)("disabled",!t.isEditable)("optionLabel","subMasterName")("optionValue","subMasterId"),e.xp6(2),e.Q6J("labelName","Bilable")("options",t.allowStatusList)("inputModel",t.itemCategory.bilable)("disabled",!t.isEditable)("optionLabel","subMasterName")("optionValue","subMasterId"),e.xp6(2),e.Q6J("labelName","Retilable")("options",t.allowStatusList)("inputModel",t.itemCategory.retilable)("disabled",!t.isEditable)("optionLabel","subMasterName")("optionValue","subMasterId"),e.xp6(2),e.Q6J("labelName","Calmiable")("options",t.allowStatusList)("inputModel",t.itemCategory.calmiable)("disabled",!t.isEditable)("optionLabel","subMasterName")("optionValue","subMasterId"),e.xp6(2),e.Q6J("labelName","Validate Expire Date")("options",t.allowStatusList)("inputModel",t.itemCategory.validateExpireDate)("disabled",!t.isEditable)("optionLabel","subMasterName")("optionValue","subMasterId"),e.xp6(2),e.Q6J("labelName","Discount %")("inputModel",t.itemCategory.discount)("disabled",!t.isEditable),e.xp6(2),e.Q6J("labelName","prescribable")("options",t.allowStatusList)("inputModel",t.itemCategory.prescribable)("disabled",!t.isEditable)("optionLabel","subMasterName")("optionValue","subMasterId"),e.xp6(2),e.Q6J("labelName","Assests Tracking")("options",t.allowStatusList)("inputModel",t.itemCategory.assestsTracking)("disabled",!t.isEditable)("optionLabel","subMasterName")("optionValue","subMasterId"),e.xp6(2),e.Q6J("labelName","Status")("options",t.statusList)("inputModel",t.itemCategory.status)("disabled",!t.isEditable)("optionLabel","subMasterName")("optionValue","subMasterId"),e.xp6(2),e.Q6J("labelName","Drug")("options",t.allowStatusList)("inputModel",t.itemCategory.drug)("disabled",!t.isEditable)("optionLabel","subMasterName")("optionValue","subMasterId"))},dependencies:[c.P,M.G,v.J,p.G,u.g]}),n})();var _=s(8032);const A=[{path:"",component:f}];let T=(()=>{var r;class n{}return(r=n).\u0275fac=function(i){return new(i||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[g.ez,_.u,m.Bz.forChild(A)]}),n})()}}]);