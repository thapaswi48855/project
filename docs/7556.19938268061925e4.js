"use strict";(self.webpackChunksakiademo=self.webpackChunksakiademo||[]).push([[7556],{7556:(x,h,a)=>{a.r(h),a.d(h,{StockentryModule:()=>G});var m=a(6814),c=a(5861),g=a(7934),_=a(1038),r=a(6990),t=a(4946),k=a(6113),y=a(7664),b=a(5219),d=a(9232),C=a(7791),M=a(7338),D=a(8911),T=a(2154),E=a(2447),v=a(8259),A=a(5996),f=a(5096),Z=a(1312);function S(l,p){if(1&l&&(t.TgZ(0,"th",32),t._uU(1),t._UZ(2,"p-sortIcon",33),t.qZA()),2&l){const o=p.$implicit;t.Q6J("pSortableColumn",o.field)("ngStyle",o.style),t.xp6(1),t.hij(" ",o.header," "),t.xp6(1),t.Q6J("field",o.field)}}function N(l,p){if(1&l&&(t.TgZ(0,"tr"),t.YNc(1,S,3,4,"th",31),t._UZ(2,"th"),t.qZA()),2&l){const o=p.$implicit;t.xp6(1),t.Q6J("ngForOf",o)}}function J(l,p){if(1&l){const o=t.EpF();t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA(),t._UZ(9,"td"),t.TgZ(10,"td"),t._uU(11),t.qZA(),t.TgZ(12,"td"),t._uU(13),t.qZA(),t.TgZ(14,"td"),t._uU(15),t.qZA(),t.TgZ(16,"td"),t._uU(17),t.qZA(),t.TgZ(18,"td"),t._uU(19),t.qZA(),t.TgZ(20,"td"),t._uU(21),t.qZA(),t._UZ(22,"td"),t.TgZ(23,"td"),t._uU(24),t.qZA(),t.TgZ(25,"td"),t._uU(26),t.qZA(),t.TgZ(27,"td"),t._uU(28),t.qZA(),t.TgZ(29,"td"),t._uU(30),t.qZA(),t.TgZ(31,"td")(32,"button",19),t.NdJ("click",function(){const e=t.CHM(o),s=e.rowIndex,i=e.$implicit,u=t.oxw();return t.KtG(u.onEditSelect(s,i))}),t._uU(33,"Edit"),t.qZA()()()}if(2&l){const o=p.$implicit;t.xp6(2),t.hij(" ",o.itemName," "),t.xp6(2),t.hij(" ",o.generateItemCode," "),t.xp6(2),t.hij(" ",o.batch," "),t.xp6(2),t.hij(" ",o.expiry," "),t.xp6(3),t.hij(" ",o.mrp," "),t.xp6(2),t.hij(" ",o.rate," "),t.xp6(2),t.hij(" ",o.qty," "),t.xp6(2),t.hij(" ",o.bouns," "),t.xp6(2),t.hij(" ",o.pckUOM," "),t.xp6(2),t.hij(" ",o.taxRate," "),t.xp6(3),t.hij(" ",o.disAmt," "),t.xp6(2),t.hij(" ",o.schDiscount," "),t.xp6(2),t.hij(" ",o.taxAmt," "),t.xp6(2),t.hij(" ",o.totalAmt," ")}}const q=function(){return{width:"100%",height:" calc(100vh - 164px)"}},I=function(){return{width:"50vw"}};let L=(()=>{var l;class p{constructor(n,e,s){this._service=n,this._activatedRoute=e,this._messageService=s,this.pageTitle="Manufacture Creation",this.onSubmit=!0,this.onClear=!0,this.onEdit=!1,this.onView=!1,this.pageMode="NEW",this.isEditable=!1,this.isShowEditable=!0,this.stockEntry={store:"",ponumber:"",quantityUom:"",supplier:"",supplieraddress:"",invoiceNo:"",invoiceDte:"",dueDate:"",status:"",stockType:"",cashPurchase:"",poReference:"",itemDiscountType:"",itemDiscountValue:"",remarks:"",paymentRemarks:"",uploadInvoiceCopy:"",purposeOfPurchase:"",companyname:"",meansTransport:"",consignmentNo:"",consignmentDate:"",seletedItemList:[],totalItemSchDiscount:"",cgst:"",sgst:"",gst:"",taxAmount:"",invDiscountType:"",invDiscountValue:"",transportCharges:0,invDiscountAmount:"",otherCharges:0,roundOff:"",debitAmount:"",invoiceTotal:"",createdt:null,createby:"",modifydt:null,modifyby:"",totalcgst:"",totalsgst:"",tataltaxAmt:"",totalItemDiscount:"",totalItemAmount:"",sgsttaxrate:"",cgsttaxRate:"",InvDiscountType:"",InvDiscountValue:"",InvDiscontAmount:"",debitAmt:"",InvTotal:""},this.emptyStockEntry=JSON.stringify(this.stockEntry),this.checked=!1,this.UOMList=[{label:"Select one",value:""}],this.zeroLevelEntity=[],this.stockTypeList=[{label:"Select one",value:""}],this.discountTypeList=[{label:"Select one",value:""}],this.gridCols=[],this.newItemList=[],this.storeList=[],this.poDiscountTypeList=[],this.visible=!1,this.purchaseList=[],this.errorMsgs={supplierReq:"",invoiceNoReq:"",invoiceDteReq:"",dueDateReq:"",itemNameReq:"",mrpReq:"",rateReq:"",qtyReq:""},this.taxGrpTypeList=[],this.taxSubGrpList=[],this.sgstList=[],this.igstList=[],this.centerTaxRate="0",this.itemDetails={itemName:"",batch:"",expiry:"",store:"",pckSize:"",pckUOM:"",unitUOM:"",mrp:"",adjMrp:"",rate:"",qty:0,bouns:0,discountPer:"",discount:"",disAmt:0,schDiscountPer:"",schDiscount:0,status:"",remarks:"",taxBasis:"ZLTGT11",taxRate:0,taxAmt:0,cgst:"",sgst:"",igst:"",cgstTaxRate:"",sgstTaxRte:"",totalAmt:""},this.emptyItemDetails=JSON.stringify(this.itemDetails),this.cgstList=[],this.stateTaxRate="0",this.newItemsList=[],this.itemName=""}onGetErrorMsgs(n,e){switch(n){case"supplier":this.errorMsgs.supplierReq=""==this.stockEntry[n]||null==this.stockEntry[n]||null==this.stockEntry[n]?this._service.onGetErrorMsgs(n,!0,"Supplier"):"";break;case"invoiceNo":this.errorMsgs.invoiceNoReq=""==this.stockEntry[n]||null==this.stockEntry[n]||null==this.stockEntry[n]?this._service.onGetErrorMsgs(n,!0,"Invoice no"):"";break;case"invoiceDte":this.errorMsgs.invoiceDteReq=""==this.stockEntry[n]||null==this.stockEntry[n]||null==this.stockEntry[n]?this._service.onGetErrorMsgs(n,!0,"invoice date"):"";break;case"dueDate":this.errorMsgs.dueDateReq=""==this.stockEntry[n]||null==this.stockEntry[n]||null==this.stockEntry[n]?this._service.onGetErrorMsgs(n,!0,"due date"):"";break;case"itemName":this.errorMsgs.itemNameReq=""==this.itemDetails[n]||null==this.itemDetails[n]||null==this.itemDetails[n]?this._service.onGetErrorMsgs(n,!0,"Item name"):"";break;case"mrp":this.errorMsgs.mrpReq=""==this.itemDetails[n]||null==this.itemDetails[n]||null==this.itemDetails[n]?this._service.onGetErrorMsgs(n,!0,"Mrp"):"";break;case"rate":this.errorMsgs.rateReq=""==this.itemDetails[n]||null==this.itemDetails[n]||null==this.itemDetails[n]?this._service.onGetErrorMsgs(n,!0,"Rate"):"";break;case"qty":this.errorMsgs.qtyReq=""==this.itemDetails[n]||null==this.itemDetails[n]||null==this.itemDetails[n]?this._service.onGetErrorMsgs(n,!0,"Qty"):""}}ngOnInit(){var n=this;return(0,c.Z)(function*(){0==Object.keys(n._service.appConfig).length&&(yield n._service.getConfigData()),n.gridCols=n._service.getGridColumns("purchaseItemListCols"),n._service.serGetDataobject("getNewItem",{}).subscribe(e=>{console.log(e),n.newItemList=e.data,r.forEach(n.newItemList,(s,i)=>{s.selected=!1})}),n._service.serGetDataobject("getStoreMaster",{status:"ZLS11"}).subscribe(e=>{n.storeList=e.data}),n._service.serGetDataobject("getRasiePurchaseOrderMaster",{}).subscribe(e=>{n.purchaseList=e.data}),n._service.serGetDataobject("getGeneralMaster",{masterid:"ZLPoDT"}).subscribe(e=>{n.poDiscountTypeList=e.data[0].subMasterData}),n._service.serGetDataobject("getUomCreation",{status:"A"}).subscribe(e=>{console.log(e),r.forEach(e.data,(s,i)=>{n.UOMList.push({label:s.packageUom,value:s._id})})}),n._service.serGetData("getGeneralMaster").subscribe(e=>{n.zeroLevelEntity=e.data;let s=r.filter(n.zeroLevelEntity,{masterid:"ZLC32"});r.forEach(s,(u,U)=>{n.stockTypeList.push({label:u.mastername,value:u._id})});let i=r.filter(n.zeroLevelEntity,{masterid:"ZLC33"});r.forEach(i,(u,U)=>{n.discountTypeList.push({label:u.mastername,value:u._id})})}),n._service.serGetDataobject("getTaxSubGroup",{status:"ZLS11"}).subscribe(e=>{n.taxSubGrpList=e.data,n.cgstList=n.taxSubGrpList,n.sgstList=n.taxSubGrpList,n.igstList=n.taxSubGrpList}),n._service.serGetDataobject("getGeneralMaster",{masterid:"ZLTGT1"}).subscribe(e=>{n.taxGrpTypeList=e.data[0].subMasterData}),n._activatedRoute.paramMap.subscribe(e=>{let s=e.get("param");null!=s?(s=JSON.parse(atob(s)),n.getMasterData(s._id),n.pageMode=s.mode):(n.isEditable=!0,n.pageMode="NEW"),n.isEditable="VIEW"!=n.pageMode})})()}onItemClick(){this.visible=!0,this._service.serGetDataobject("getTaxSubGroup",{status:"ZLS11"}).subscribe(n=>{this.taxSubGrpList=n.data,this.cgstList=this.taxSubGrpList,this.sgstList=this.taxSubGrpList,this.igstList=this.taxSubGrpList}),this._service.serGetDataobject("getGeneralMaster",{masterid:"ZLTGT1"}).subscribe(n=>{this.taxGrpTypeList=n.data[0].subMasterData})}getMasterData(n){this._service.serGetDataobject("getStockEntryMaster",{_id:n}).subscribe(e=>{console.log("dt",e),this.stockEntry=e.data[0],this.stockEntry._id=this.stockEntry._id,this.newItemsList=this.stockEntry.seletedItemList,this.isShowEditable=!this.isEditable&&"NEW"!=this.pageMode,console.log("stockEntry",this.stockEntry)})}onBasicUploadAuto(n){console.log("event",n)}onSaveClick(){if(r.forEach(["supplier","invoiceNo","invoiceDte","dueDate"],i=>{this.onGetErrorMsgs(i,!0)}),console.log("newItemList",this.newItemList),this._service.showErr(this.errorMsgs))return void this._messageService.add({sticky:!0,severity:"warn",summary:"Warn",detail:"Please Check the below Errors"});this.stockEntry.seletedItemList=this.newItemsList;let s=this.stockEntry;console.log(this.stockEntry),this.saving.onSaveJson("Store","insertStockEntryMaster",[s]),this.onClearClick()}onClearClick(){"NEW"==this.pageMode?(this.stockEntry=JSON.parse(this.emptyStockEntry),this.isEditable=!0):this.isEditable=!1}onNewItemSelect(n){if(n.selected){let e=n._id;this.stockEntry.seletedItemList=""==this.stockEntry.seletedItemList?e:e+","}}onCgstTaxAmt(n){let e=r.filter(this.cgstList,{_id:n});""!=this.itemDetails.cgstTaxRate&&(this.itemDetails.taxRate-=this.itemDetails.cgstTaxRate),this.itemDetails.cgstTaxRate=parseFloat(e[0].taxrate),this.itemDetails.taxRate+=this.itemDetails.cgstTaxRate}onSgstTaxAmt(n){let e=r.filter(this.cgstList,{_id:n});""!=this.itemDetails.sgstTaxRte&&(this.itemDetails.taxRate-=this.itemDetails.sgstTaxRte),this.itemDetails.sgstTaxRte=parseFloat(e[0].taxrate),this.itemDetails.taxRate+=this.itemDetails.sgstTaxRte}onChangeMrpAmt(n){this.itemDetails.adjMrp=this.itemDetails.mrp-n*(this.itemDetails.taxRate/100)}onAddItem(n){console.log(n),n.totalAmt=parseFloat(this.itemDetails.qty)*parseFloat(this.itemDetails.rate)-this.itemDetails.disAmt+n.taxAmt,this.newItemsList.push(n),this.itemDetails=JSON.parse(this.emptyItemDetails)}onPoTotalAmt(n){}onSelectPoNum(n){let e=r.filter(this.purchaseList,{_id:n});console.log("stockDet",e),this.newItemsList=e[0].purchuseItems,this.stockEntry.quantityUom=e[0].quantityUom,this.stockEntry.supplier=e[0].supplier,this.stockEntry.supplieraddress=e[0].supplierAdderss,this.stockEntry.totalcgst=0,this.stockEntry.totalsgst=0,this.stockEntry.tataltaxAmt=0,this.stockEntry.totalItemDiscount=0,this.stockEntry.totalItemAmount=0,this.stockEntry.sgsttaxrate=0,this.stockEntry.cgsttaxRate=0,r.forEach(this.newItemsList,(s,i)=>{s.itemId=i+1,this.stockEntry.totalcgst+=s.cgsttaxAmt,this.stockEntry.totalsgst+=s.sgsttaxAmt,this.stockEntry.tataltaxAmt+=s.taxAmt,this.stockEntry.totalItemDiscount+=s.disAmt,this.stockEntry.totalItemAmount+=parseFloat(s.totalAmt),this.stockEntry.sgsttaxrate+=s.sgsttaxrate,this.stockEntry.cgsttaxRate+=s.cgsttaxRate})}onInvDisAmt(n){this.stockEntry.InvDiscontAmount=0,console.log("poValue",n),"ZLPoDT1"==n?(this.stockEntry.InvDiscountValue=parseFloat(this.stockEntry.totalItemAmount)*(parseFloat(this.stockEntry.InvDiscountValue)/100),this.stockEntry.InvDiscontAmount=this.stockEntry.InvDiscountValue,this.stockEntry.InvTotal=parseFloat(this.stockEntry.totalItemAmount)-parseFloat(this.stockEntry.InvDiscountValue)):(this.stockEntry.InvDiscontAmount=this.stockEntry.InvDiscountValue,this.stockEntry.InvTotal=parseFloat(this.stockEntry.totalItemAmount)-parseFloat(this.stockEntry.InvDiscontAmount))}onEditSelect(n,e){e.rowInd=n,this.visible=!0,this.itemDetails=e}onSaveApproveClick(){var n=this;return(0,c.Z)(function*(){n.stockEntry.approvalStatus="ZLARS11",n.onSaveClick()})()}onSavePrintClick(){}onAddItemClick(n){r.forEach(["qty","rate","mrp","itemName"],i=>{this.onGetErrorMsgs(i,!0)}),this._service.showErr(this.errorMsgs)?this._messageService.add({sticky:!0,severity:"warn",summary:"Warn",detail:"Please Check the below Errors"}):(n.totalAmt=parseFloat(n.rate)-(parseFloat(n.schDiscount)+parseFloat(n.disAmt))+parseFloat(n.taxAmt),n.itemName=this.itemName,null==n.rowInd?this.newItemsList.push(n):this.newItemsList.rowInd=n,this.stockEntry.totalcgst=0,this.stockEntry.totalsgst=0,this.stockEntry.tataltaxAmt=0,this.stockEntry.totalItemDiscount=0,this.stockEntry.totalItemAmount=0,this.stockEntry.sgsttaxrate=0,this.stockEntry.cgsttaxRate=0,r.forEach(this.newItemsList,(i,u)=>{i.itemId=u+1,this.stockEntry.totalcgst+=i.cgsttaxAmt,this.stockEntry.totalsgst+=i.sgsttaxAmt,this.stockEntry.tataltaxAmt+=i.taxAmt,this.stockEntry.totalItemDiscount+=i.disAmt,this.stockEntry.totalItemAmount+=parseFloat(i.totalAmt),this.stockEntry.sgsttaxrate+=i.sgsttaxrate,this.stockEntry.cgsttaxRate+=i.cgsttaxRate}))}onTransportCharges(){this.stockEntry.InvTotal=parseFloat(this.stockEntry.InvTotal)+parseFloat(this.stockEntry.transportCharges)}onOtherCharges(){this.stockEntry.InvTotal=parseFloat(this.stockEntry.InvTotal)+parseFloat(this.stockEntry.otherCharges)}onRateWiseTaxAmt(n){""!==this.itemDetails.disAmt&&(this.itemDetails.taxAmt=(parseFloat(this.itemDetails.rate)*parseFloat(n)-(parseFloat(this.itemDetails.disAmt)+parseFloat(this.itemDetails.schDiscount)))*this.itemDetails.taxRate/100),this.itemDetails.cgsttaxAmt=parseFloat(this.itemDetails.rate)*this.itemDetails.cgstTaxRate/100,this.itemDetails.sgsttaxAmt=parseFloat(this.itemDetails.rate)*this.itemDetails.sgstTaxRte/100}onDiscountAmt(n){this.itemDetails.disAmt=""!=this.itemDetails.rate&&""!=this.itemDetails.qty&&""!=this.itemDetails.discountPer?parseFloat(this.itemDetails.rate)*parseFloat(this.itemDetails.qty)*parseFloat(n)/100:0}onSchDiscountAmt(n){""!=this.itemDetails.rate&&""!=this.itemDetails.qty&&""!=this.itemDetails.schDiscountPer?this.itemDetails.disAmt=parseFloat(this.itemDetails.rate)*parseFloat(this.itemDetails.qty)*parseFloat(n)/100:this.itemDetails.schDiscount=0}onDisPer(n){""!==this.itemDetails.disAmt?this.itemDetails.discountPer=parseFloat(this.itemDetails.disAmt)/parseFloat(this.itemDetails.rate)*100:(this.itemDetails.discountPer="",this.itemDetails.disAmt=0)}onSchDisPer(n){""!==this.itemDetails.schDiscount?this.itemDetails.schDiscountPer=parseFloat(this.itemDetails.schDiscount)/parseFloat(this.itemDetails.rate)*100:(this.itemDetails.schDiscountPer="",this.itemDetails.schDiscount=0)}onLoopUp(n){console.log("onLoopUp",n),this.itemName=n.itemName,this.itemDetails.pckUOM=n.packageUOM,this.itemDetails.unitUOM=n.unitUOM,this.itemDetails.pckSize=n.packageSize,this.itemDetails.manufacture=n.manufacture,this.itemDetails.stock=n.stock,this.itemDetails.allStoreStock=n.allStoreStock}}return(l=p).\u0275fac=function(n){return new(n||l)(t.Y36(k.f),t.Y36(y.gz),t.Y36(b.ez))},l.\u0275cmp=t.Xpm({type:l,selectors:[["app-stockentry"]],viewQuery:function(n,e){if(1&n&&(t.Gf(g.G,5),t.Gf(_.g,5)),2&n){let s;t.iGM(s=t.CRH())&&(e.header=s.first),t.iGM(s=t.CRH())&&(e.saving=s.first)}},decls:143,vars:205,consts:[[1,""],[3,"pageTitle","onSubmit","onGrid","onAddNew","onClear","onEdit","onView","onSaveApprove","onSavePrint","submitClick","clearClick","saveApproveClick","savePrintClick"],["headers",""],[1,"div-padding"],["legend","Manufacture",3,"toggleable"],[1,"formgrid","grid"],[1,"field","col-12","md:col-4","sm:col-6","lg:col-3","xl:col-3"],[3,"labelName","options","inputModel","optionLabel","optionValue","inputModelChange"],[3,"labelName","inputModel","disabled","options","optionLabel","optionValue","inputModelChange","onChange"],[3,"labelName","options","inputModel","disabled","inputModelChange"],[3,"labelName","inputModel","disabled","errorMessages","inputModelChange","onBlur"],[3,"labelName","inputModel","disabled","inputModelChange"],[3,"labelName","options","disabled","inputModel","inputModelChange"],["mode","basic","name","demo[]","url","https://www.primefaces.org/cdn/api/upload.php","accept","image/*","chooseLabel","Browse",3,"auto","onUpload"],["legend","Details",3,"toggleable"],["styleClass","p-datatable-gridlines","scrollHeight","flex",3,"columns","value","paginator","rows","responsive","resizableColumns","scrollable"],["dt",""],["pTemplate","header"],["pTemplate","body"],[3,"click"],["legend","Total",3,"toggleable"],[3,"labelName","labelValue"],[3,"labelName","inputModel","options","optionLabel","optionValue","inputModelChange"],[3,"labelName","inputModel","inputModelChange","onChange"],[3,"labelName","inputModel","inputModelChange"],["saving",""],["header","Header",3,"visible","visibleChange"],[3,"labelName","inputModel","filteredOptions","filterName","errorMessages","inputModelChange","onLoopUp","onBlur"],[3,"labelName","inputModel","disabled","errorMessages","inputModelChange","onChange","onBlur"],[3,"labelName","inputModel","disabled","inputModelChange","onChange"],[3,"labelName","inputModel","options","optionLabel","optionValue","inputModelChange","onChange"],["pResizableColumn","",3,"pSortableColumn","ngStyle",4,"ngFor","ngForOf"],["pResizableColumn","",3,"pSortableColumn","ngStyle"],[3,"field"]],template:function(n,e){1&n&&(t.TgZ(0,"div",0)(1,"div")(2,"app-header",1,2),t.NdJ("submitClick",function(){return e.onSaveClick()})("clearClick",function(){return e.onClearClick()})("saveApproveClick",function(){return e.onSaveApproveClick()})("savePrintClick",function(){return e.onSavePrintClick()}),t.qZA()(),t.TgZ(4,"div",3)(5,"p-scrollPanel")(6,"p-fieldset",4)(7,"div",5)(8,"div",6)(9,"app-dropdown",7),t.NdJ("inputModelChange",function(i){return e.stockEntry.store=i}),t.qZA()(),t.TgZ(10,"div",6)(11,"app-dropdown",8),t.NdJ("inputModelChange",function(i){return e.stockEntry.ponumber=i})("onChange",function(){return e.onSelectPoNum(e.stockEntry.ponumber)}),t.qZA()(),t.TgZ(12,"div",6)(13,"app-dropdown",9),t.NdJ("inputModelChange",function(i){return e.stockEntry.quantityUom=i}),t.qZA()(),t.TgZ(14,"div",6)(15,"app-inputtext",10),t.NdJ("inputModelChange",function(i){return e.stockEntry.supplier=i})("onBlur",function(){return e.onGetErrorMsgs("supplier",!0)}),t.qZA()(),t.TgZ(16,"div",6)(17,"app-inputtext",11),t.NdJ("inputModelChange",function(i){return e.stockEntry.supplieraddress=i}),t.qZA()(),t.TgZ(18,"div",6)(19,"app-inputtext",10),t.NdJ("inputModelChange",function(i){return e.stockEntry.invoiceNo=i})("onBlur",function(){return e.onGetErrorMsgs("invoiceNo",!0)}),t.qZA()(),t.TgZ(20,"div",6)(21,"app-datepicker",10),t.NdJ("inputModelChange",function(i){return e.stockEntry.invoiceDte=i})("onBlur",function(){return e.onGetErrorMsgs("invoiceDte",!0)}),t.qZA()(),t.TgZ(22,"div",6)(23,"app-datepicker",10),t.NdJ("inputModelChange",function(i){return e.stockEntry.dueDate=i})("onBlur",function(){return e.onGetErrorMsgs("dueDate",!0)}),t.qZA()(),t.TgZ(24,"div",6)(25,"app-inputtext",11),t.NdJ("inputModelChange",function(i){return e.stockEntry.status=i}),t.qZA()(),t.TgZ(26,"div",6)(27,"app-dropdown",12),t.NdJ("inputModelChange",function(i){return e.stockEntry.stockType=i}),t.qZA()(),t.TgZ(28,"div",6)(29,"app-inputtext",11),t.NdJ("inputModelChange",function(i){return e.stockEntry.cashPurchase=i}),t.qZA()(),t.TgZ(30,"div",6)(31,"app-inputtext",11),t.NdJ("inputModelChange",function(i){return e.stockEntry.poReference=i}),t.qZA()(),t.TgZ(32,"div",6)(33,"app-dropdown",12),t.NdJ("inputModelChange",function(i){return e.stockEntry.itemDiscountType=i}),t.qZA()(),t.TgZ(34,"div",6)(35,"app-inputtext",11),t.NdJ("inputModelChange",function(i){return e.stockEntry.itemDiscountValue=i}),t.qZA()(),t.TgZ(36,"div",6)(37,"app-inputtext",11),t.NdJ("inputModelChange",function(i){return e.stockEntry.remarks=i}),t.qZA()(),t.TgZ(38,"div",6)(39,"app-inputtext",11),t.NdJ("inputModelChange",function(i){return e.stockEntry.paymentRemarks=i}),t.qZA()(),t.TgZ(40,"div",6)(41,"p-fileUpload",13),t.NdJ("onUpload",function(i){return e.onBasicUploadAuto(i)}),t.qZA()(),t.TgZ(42,"div",6)(43,"app-inputtext",11),t.NdJ("inputModelChange",function(i){return e.stockEntry.purposeOfPurchase=i}),t.qZA()()()(),t.TgZ(44,"p-fieldset",14)(45,"div",5)(46,"div",6)(47,"app-inputtext",11),t.NdJ("inputModelChange",function(i){return e.stockEntry.companyname=i}),t.qZA()(),t.TgZ(48,"div",6)(49,"app-inputtext",11),t.NdJ("inputModelChange",function(i){return e.stockEntry.meansTransport=i}),t.qZA()(),t.TgZ(50,"div",6)(51,"app-inputtext",11),t.NdJ("inputModelChange",function(i){return e.stockEntry.consignmentNo=i}),t.qZA()(),t.TgZ(52,"div",6)(53,"app-datepicker",11),t.NdJ("inputModelChange",function(i){return e.stockEntry.consignmentDate=i}),t.qZA()()()(),t.TgZ(54,"div")(55,"p-table",15,16),t.YNc(57,N,3,1,"ng-template",17),t.YNc(58,J,34,14,"ng-template",18),t.qZA(),t.TgZ(59,"button",19),t.NdJ("click",function(){return e.onItemClick()}),t._uU(60,"AAA"),t.qZA()(),t.TgZ(61,"p-fieldset",20)(62,"div",5)(63,"div",6),t._UZ(64,"app-labelbind",21),t.qZA(),t.TgZ(65,"div",6),t._UZ(66,"app-labelbind",21),t.qZA(),t.TgZ(67,"div",6),t._UZ(68,"app-labelbind",21),t.qZA(),t.TgZ(69,"div",6),t._UZ(70,"app-labelbind",21),t.qZA(),t.TgZ(71,"div",6),t._UZ(72,"app-labelbind",21),t.qZA(),t.TgZ(73,"div",6),t._UZ(74,"app-labelbind",21),t.qZA(),t.TgZ(75,"div",6),t._UZ(76,"app-labelbind",21),t.qZA(),t.TgZ(77,"div",6)(78,"app-dropdown",22),t.NdJ("inputModelChange",function(i){return e.stockEntry.InvDiscountType=i}),t.qZA()(),t.TgZ(79,"div",6)(80,"app-inputtext",23),t.NdJ("inputModelChange",function(i){return e.stockEntry.InvDiscountValue=i})("onChange",function(){return e.onInvDisAmt(e.stockEntry.InvDiscountType)}),t.qZA()(),t.TgZ(81,"div",6)(82,"app-inputtext",23),t.NdJ("inputModelChange",function(i){return e.stockEntry.transportCharges=i})("onChange",function(){return e.onTransportCharges()}),t.qZA()(),t.TgZ(83,"div",6),t._UZ(84,"app-labelbind",21),t.qZA(),t.TgZ(85,"div",6)(86,"app-inputtext",23),t.NdJ("inputModelChange",function(i){return e.stockEntry.otherCharges=i})("onChange",function(){return e.onOtherCharges()}),t.qZA()(),t.TgZ(87,"div",6)(88,"app-inputtext",24),t.NdJ("inputModelChange",function(i){return e.stockEntry.roundOff=i}),t.qZA()(),t.TgZ(89,"div",6)(90,"app-inputtext",24),t.NdJ("inputModelChange",function(i){return e.stockEntry.debitAmt=i}),t.qZA()(),t.TgZ(91,"div",6),t._UZ(92,"app-labelbind",21),t.qZA()()()()()(),t._UZ(93,"app-saving",null,25),t.TgZ(95,"p-dialog",26),t.NdJ("visibleChange",function(i){return e.visible=i}),t.TgZ(96,"p-fieldset",20)(97,"div",5)(98,"div",6)(99,"app-lookup",27),t.NdJ("inputModelChange",function(i){return e.itemDetails.itemName=i})("onLoopUp",function(i){return e.onLoopUp(i)})("onBlur",function(){return e.onGetErrorMsgs("itemName",!0)}),t.qZA()(),t._uU(100),t.TgZ(101,"div",6)(102,"app-inputtext",11),t.NdJ("inputModelChange",function(i){return e.itemDetails.batch=i}),t.qZA()(),t.TgZ(103,"div",6)(104,"app-datepicker",11),t.NdJ("inputModelChange",function(i){return e.itemDetails.expiry=i}),t.qZA()(),t.TgZ(105,"div",6)(106,"app-inputtext",28),t.NdJ("inputModelChange",function(i){return e.itemDetails.mrp=i})("onChange",function(){return e.onChangeMrpAmt(e.itemDetails.mrp)})("onBlur",function(){return e.onGetErrorMsgs("mrp",!0)}),t.qZA()(),t.TgZ(107,"div",6)(108,"app-inputtext",11),t.NdJ("inputModelChange",function(i){return e.itemDetails.adjMrp=i}),t.qZA()(),t.TgZ(109,"div",6)(110,"app-inputtext",10),t.NdJ("inputModelChange",function(i){return e.itemDetails.rate=i})("onBlur",function(){return e.onGetErrorMsgs("rate",!0)}),t.qZA()(),t.TgZ(111,"div",6)(112,"app-inputtext",28),t.NdJ("inputModelChange",function(i){return e.itemDetails.qty=i})("onChange",function(){return e.onRateWiseTaxAmt(e.itemDetails.qty),e.onDiscountAmt(e.itemDetails.discountPer)})("onBlur",function(){return e.onGetErrorMsgs("qty",!0)}),t.qZA()(),t.TgZ(113,"div",6)(114,"app-inputtext",11),t.NdJ("inputModelChange",function(i){return e.itemDetails.bouns=i}),t.qZA()(),t.TgZ(115,"div",6)(116,"app-inputtext",29),t.NdJ("inputModelChange",function(i){return e.itemDetails.discountPer=i})("onChange",function(){return e.onDiscountAmt(e.itemDetails.discountPer)}),t.qZA()(),t.TgZ(117,"div",6)(118,"app-inputtext",29),t.NdJ("inputModelChange",function(i){return e.itemDetails.disAmt=i})("onChange",function(){return e.onDisPer(e.itemDetails.disAmt),e.onRateWiseTaxAmt(e.itemDetails.qty)}),t.qZA()(),t.TgZ(119,"div",6)(120,"app-inputtext",29),t.NdJ("inputModelChange",function(i){return e.itemDetails.schDiscountPer=i})("onChange",function(){return e.onSchDiscountAmt(e.itemDetails.schDiscountPer)}),t.qZA()(),t.TgZ(121,"div",6)(122,"app-inputtext",29),t.NdJ("inputModelChange",function(i){return e.itemDetails.schDiscount=i})("onChange",function(){return e.onSchDisPer(e.itemDetails.schDiscount),e.onRateWiseTaxAmt(e.itemDetails.qty)}),t.qZA()(),t.TgZ(123,"div",6),t._UZ(124,"app-labelbind",21),t.qZA()(),t.TgZ(125,"p-fieldset",20)(126,"div",5)(127,"div",6)(128,"app-dropdown",22),t.NdJ("inputModelChange",function(i){return e.itemDetails.taxBasis=i}),t.qZA()(),t.TgZ(129,"div",6),t._UZ(130,"app-labelbind",21),t.qZA(),t.TgZ(131,"div",6),t._UZ(132,"app-labelbind",21),t.qZA(),t.TgZ(133,"div",6)(134,"app-dropdown",30),t.NdJ("inputModelChange",function(i){return e.itemDetails.cgst=i})("onChange",function(){return e.onCgstTaxAmt(e.itemDetails.cgst)}),t.qZA()(),t.TgZ(135,"div",6)(136,"app-dropdown",30),t.NdJ("inputModelChange",function(i){return e.itemDetails.sgst=i})("onChange",function(){return e.onSgstTaxAmt(e.itemDetails.sgst)}),t.qZA()(),t.TgZ(137,"div",6)(138,"app-dropdown",22),t.NdJ("inputModelChange",function(i){return e.itemDetails.igst=i}),t.qZA()()()()(),t.TgZ(139,"button",19),t.NdJ("click",function(){return e.onAddItemClick(e.itemDetails)}),t._uU(140,"ADD"),t.qZA(),t.TgZ(141,"button"),t._uU(142,"N"),t.qZA()()),2&n&&(t.xp6(2),t.Q6J("pageTitle",e.pageTitle)("onSubmit",e.onSubmit)("onGrid",!0)("onAddNew",!1)("onClear",e.onClear)("onEdit",e.onEdit)("onView",e.onView)("onSaveApprove",!0)("onSavePrint",!0),t.xp6(3),t.Akn(t.DdM(203,q)),t.xp6(1),t.Q6J("toggleable",!0),t.xp6(3),t.Q6J("labelName","Store")("options",e.storeList)("inputModel",e.stockEntry.store)("optionLabel","store")("optionValue","_id"),t.xp6(2),t.Q6J("labelName","Po Number")("inputModel",e.stockEntry.ponumber)("disabled",!e.isEditable)("options",e.purchaseList)("optionLabel","poNumber")("optionValue","_id"),t.xp6(2),t.Q6J("labelName","Quantity UOM")("options",e.UOMList)("inputModel",e.stockEntry.quantityUom)("disabled",!e.isEditable),t.xp6(2),t.s9C("errorMessages",e.errorMsgs.supplierReq),t.Q6J("labelName","Supplier")("inputModel",e.stockEntry.supplier)("disabled",!e.isEditable),t.xp6(2),t.Q6J("labelName","Supplier Address")("inputModel",e.stockEntry.supplieraddress)("disabled",!e.isEditable),t.xp6(2),t.s9C("errorMessages",e.errorMsgs.invoiceNoReq),t.Q6J("labelName","Invoice No.")("inputModel",e.stockEntry.invoiceNo)("disabled",!e.isEditable),t.xp6(2),t.s9C("errorMessages",e.errorMsgs.invoiceDteReq),t.Q6J("labelName","Invoice Date")("inputModel",e.stockEntry.invoiceDte)("disabled",!e.isEditable),t.xp6(2),t.s9C("errorMessages",e.errorMsgs.dueDateReq),t.Q6J("labelName","Due Date")("inputModel",e.stockEntry.dueDate)("disabled",!e.isEditable),t.xp6(2),t.Q6J("labelName","Status")("inputModel",e.stockEntry.status)("disabled",!e.isEditable),t.xp6(2),t.Q6J("labelName","Stock Type")("options",e.stockTypeList)("disabled",!e.isEditable)("inputModel",e.stockEntry.stockType),t.xp6(2),t.Q6J("labelName","Cash Purchase")("inputModel",e.stockEntry.cashPurchase)("disabled",!e.isEditable),t.xp6(2),t.Q6J("labelName","PO Reference")("inputModel",e.stockEntry.poReference)("disabled",!e.isEditable),t.xp6(2),t.Q6J("labelName","Item Discount Type")("options",e.discountTypeList)("disabled",!e.isEditable)("inputModel",e.stockEntry.itemDiscountType),t.xp6(2),t.Q6J("labelName","Item Discount Value")("inputModel",e.stockEntry.itemDiscountValue)("disabled",!e.isEditable),t.xp6(2),t.Q6J("labelName","Remarks")("inputModel",e.stockEntry.remarks)("disabled",!e.isEditable),t.xp6(2),t.Q6J("labelName","Payment Remarks")("inputModel",e.stockEntry.paymentRemarks)("disabled",!e.isEditable),t.xp6(2),t.Q6J("auto",!0),t.xp6(2),t.Q6J("labelName","Purpose of Purchase")("inputModel",e.stockEntry.purposeOfPurchase)("disabled",!e.isEditable),t.xp6(1),t.Q6J("toggleable",!0),t.xp6(3),t.Q6J("labelName","Company Name")("inputModel",e.stockEntry.companyname)("disabled",!e.isEditable),t.xp6(2),t.Q6J("labelName","Means Transport")("inputModel",e.stockEntry.meansTransport)("disabled",!e.isEditable),t.xp6(2),t.Q6J("labelName","Consignment No.")("inputModel",e.stockEntry.consignmentNo)("disabled",!e.isEditable),t.xp6(2),t.Q6J("labelName","Consignment Date")("inputModel",e.stockEntry.consignmentDate)("disabled",!e.isEditable),t.xp6(2),t.Q6J("columns",e.gridCols)("value",e.newItemsList)("paginator",!1)("rows",25)("responsive",!0)("resizableColumns",!0)("scrollable",!0),t.xp6(6),t.Q6J("toggleable",!0),t.xp6(3),t.Q6J("labelName","Total Item Discount")("labelValue",e.stockEntry.totalItemDis),t.xp6(2),t.Q6J("labelName","Total Item Sch Discount")("labelValue",e.stockEntry.itemSchDis),t.xp6(2),t.Q6J("labelName","Total Item Amount")("labelValue",e.stockEntry.totalItemAmount),t.xp6(2),t.Q6J("labelName","CGST")("labelValue",e.stockEntry.totalcgst),t.xp6(2),t.Q6J("labelName","SGST")("labelValue",e.stockEntry.totalsgst),t.xp6(2),t.Q6J("labelName","i-GST")("labelValue",e.stockEntry.gst),t.xp6(2),t.Q6J("labelName","Tax Amount")("labelValue",e.stockEntry.tataltaxAmt),t.xp6(2),t.Q6J("labelName","Inv. Discount Type")("inputModel",e.stockEntry.InvDiscountType)("options",e.poDiscountTypeList)("optionLabel","subMasterName")("optionValue","subMasterId"),t.xp6(2),t.Q6J("labelName","Inv. Discount Value")("inputModel",e.stockEntry.InvDiscountValue),t.xp6(2),t.Q6J("labelName","Transportation Charges")("inputModel",e.stockEntry.transportCharges),t.xp6(2),t.Q6J("labelName","Inv. Discount Amount")("labelValue",e.stockEntry.InvDiscontAmount),t.xp6(2),t.Q6J("labelName","Other Charges")("inputModel",e.stockEntry.otherCharges),t.xp6(2),t.Q6J("labelName","Round Off")("inputModel",e.stockEntry.roundOff),t.xp6(2),t.Q6J("labelName","Debit amount")("inputModel",e.stockEntry.debitAmt),t.xp6(2),t.Q6J("labelName","Invoice Total")("labelValue",e.stockEntry.InvTotal),t.xp6(3),t.Akn(t.DdM(204,I)),t.Q6J("visible",e.visible),t.xp6(1),t.Q6J("toggleable",!0),t.xp6(3),t.s9C("errorMessages",e.errorMsgs.itemNameReq),t.Q6J("labelName","Item")("inputModel",e.itemDetails.itemName)("filteredOptions",e.newItemList)("filterName","itemName"),t.xp6(1),t.hij(" ",e.itemDetails.itemName," "),t.xp6(2),t.Q6J("labelName","Batch/Serial No.")("inputModel",e.itemDetails.batch)("disabled",!e.isEditable),t.xp6(2),t.Q6J("labelName","Expiry")("inputModel",e.itemDetails.expiry)("disabled",!e.isEditable),t.xp6(2),t.s9C("errorMessages",e.errorMsgs.mrpReq),t.Q6J("labelName","MRP")("inputModel",e.itemDetails.mrp)("disabled",!e.isEditable),t.xp6(2),t.Q6J("labelName","Adj MRP")("inputModel",e.itemDetails.adjMrp)("disabled",!e.isEditable),t.xp6(2),t.s9C("errorMessages",e.errorMsgs.rateReq),t.Q6J("labelName","Rate")("inputModel",e.itemDetails.rate)("disabled",!e.isEditable),t.xp6(2),t.s9C("errorMessages",e.errorMsgs.qtyReq),t.Q6J("labelName","Qty")("inputModel",e.itemDetails.qty)("disabled",!e.isEditable),t.xp6(2),t.Q6J("labelName","Bouns")("inputModel",e.itemDetails.bouns)("disabled",!e.isEditable),t.xp6(2),t.Q6J("labelName","Discount (%)")("inputModel",e.itemDetails.discountPer)("disabled",!e.isEditable),t.xp6(2),t.Q6J("labelName","Discount Amt")("inputModel",e.itemDetails.disAmt)("disabled",!e.isEditable),t.xp6(2),t.Q6J("labelName","Scheme Discount (%)")("inputModel",e.itemDetails.schDiscountPer)("disabled",!e.isEditable),t.xp6(2),t.Q6J("labelName","Scheme Discount")("inputModel",e.itemDetails.schDiscount)("disabled",!e.isEditable),t.xp6(2),t.Q6J("labelName","package Size")("labelValue",e.itemDetails.pckSize),t.xp6(1),t.Q6J("toggleable",!0),t.xp6(3),t.Q6J("labelName","Tax Basis")("inputModel",e.itemDetails.taxBasis)("options",e.taxGrpTypeList)("optionLabel","subMasterName")("optionValue","subMasterId"),t.xp6(2),t.Q6J("labelName","Tax Rate")("labelValue",e.itemDetails.taxRate),t.xp6(2),t.Q6J("labelName","Tax Amt")("labelValue",e.itemDetails.taxAmt),t.xp6(2),t.Q6J("labelName","CGST")("inputModel",e.itemDetails.cgst)("options",e.cgstList)("optionLabel","taxsubgroup")("optionValue","_id"),t.xp6(2),t.Q6J("labelName","SGST")("inputModel",e.itemDetails.sgst)("options",e.sgstList)("optionLabel","taxsubgroup")("optionValue","_id"),t.xp6(2),t.Q6J("labelName","IGST")("inputModel",e.itemDetails.igst)("options",e.igstList)("optionLabel","taxsubgroup")("optionValue","_id"))},dependencies:[m.sg,m.PC,b.jx,d.iA,d.lQ,d.Q7,d.fz,C.p,M.P,D.G,T.J,g.G,_.g,E.F,v.q,A.Q,f.p,Z.V]}),p})();var R=a(8032);const Q=[{path:"",component:L}];let G=(()=>{var l;class p{}return(l=p).\u0275fac=function(n){return new(n||l)},l.\u0275mod=t.oAB({type:l}),l.\u0275inj=t.cJS({imports:[m.ez,R.u,y.Bz.forChild(Q)]}),p})()}}]);