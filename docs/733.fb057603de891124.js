"use strict";(self.webpackChunksakiademo=self.webpackChunksakiademo||[]).push([[733],{733:(L,p,n)=>{n.r(p),n.d(p,{GenericdetailsModule:()=>y});var m=n(6814),h=n(5861),d=n(6990),c=n(7934),u=n(1038),i=n(4946),b=n(6113),g=n(7664),C=n(5219),f=n(7338),M=n(8911),G=n(2154);const v=function(){return{width:"100%",height:" calc(100vh - 120px)"}};let N=(()=>{var o;class r{constructor(t,e,a){this._service=t,this._activatedRoute=e,this._messageService=a,this.pageTitle="Generic Details",this.onSubmit=!0,this.onClear=!0,this.onEdit=!1,this.onView=!1,this.pageMode="NEW",this.isEditable=!1,this.isShowEditable=!0,this.redirectToGrid=!1,this.genericDetails={genericName:"",clasificationName:"",subClassificationName:"",standrdAdultDose:"",status:"ZLS11",crability:"",createdt:null,createby:"",modifydt:null,modifyby:""},this.emptyGenericDetails=JSON.stringify(this.genericDetails),this.geneticClassificationList=[],this.geneticSubClassificationList=[],this.zeroLevelEntity=[],this.critialityList=[],this.statusList=[],this.errorMsgs={clasificationNameReq:"",genericNameReq:""},this.emptyErrorMsgs=JSON.stringify(this.errorMsgs)}onGetErrorMsgs(t,e){"genericName"===t&&(this.errorMsgs.genericNameReq=""==this.genericDetails[t]||null==this.genericDetails[t]||null==this.genericDetails[t]?this._service.onGetErrorMsgs(t,!0,"Generic Name"):"")}ngOnInit(){var t=this;return(0,h.Z)(function*(){0==Object.keys(t._service.appConfig).length&&(yield t._service.getConfigData()),t._activatedRoute.paramMap.subscribe(e=>{let a=e.get("param");null!=a?(a=JSON.parse(atob(a)),t.getMasterData(a._id),t.pageMode=a.mode):(t.isEditable=!0,t.pageMode="NEW"),t.isEditable="VIEW"!=t.pageMode}),t._service.serGetDataobject("getGenericClassificationDetails",{status:"ZLS11"}).subscribe(e=>{t.geneticClassificationList=e.data}),t._service.serGetDataobject("getGeneralMaster",{masterid:"ZLS1"}).subscribe(e=>{t.statusList=e.data[0].subMasterData}),t._service.serGetDataobject("getGeneralMaster",{masterid:"ZLCra1"}).subscribe(e=>{t.critialityList=e.data[0].subMasterData}),t._service.serGetData("getGeneralMaster").subscribe(e=>{t.zeroLevelEntity=e.data;let a=d.filter(t.zeroLevelEntity,{masterid:"ZLC9"});d.forEach(a,(s,T)=>{t.statusList.push({label:s.mastername,value:s._id})})})})()}onSubClasification(t){this._service.serGetDataobject("getGenericSubClassificationDetails",{status:"ZLS11",clasificationName:t}).subscribe(e=>{this.geneticSubClassificationList=e.data})}getMasterData(t){this._service.serGetDataobject("getGenericDetails",{_id:t}).subscribe(e=>{console.log("dt",e),this.genericDetails=e.data[0],this.genericDetails._id=this.genericDetails._id,this.isShowEditable=!this.isEditable&&"NEW"!=this.pageMode})}onGridClick(){}onSaveClick(){d.forEach(["genericName"],s=>{this.onGetErrorMsgs(s,!0)}),this._service.showErr(this.errorMsgs)?this._messageService.add({sticky:!0,severity:"warn",summary:"Warn",detail:"Please Check the below Errors"}):(this.saving.onSaveJson(this.pageTitle,"insertGenericDetails",[this.genericDetails]),this.onClearClick(),this.redirectToGrid="NEW"!=this.pageMode)}onClearClick(){"NEW"==this.pageMode?(this.genericDetails=JSON.parse(this.emptyGenericDetails),this.isEditable=!0):this.isEditable=!1,this.errorMsgs=JSON.parse(this.emptyErrorMsgs)}}return(o=r).\u0275fac=function(t){return new(t||o)(i.Y36(b.f),i.Y36(g.gz),i.Y36(C.ez))},o.\u0275cmp=i.Xpm({type:o,selectors:[["app-genericdetails"]],viewQuery:function(t,e){if(1&t&&(i.Gf(c.G,5),i.Gf(u.g,5)),2&t){let a;i.iGM(a=i.CRH())&&(e.header=a.first),i.iGM(a=i.CRH())&&(e.saving=a.first)}},decls:16,vars:42,consts:[[1,""],[3,"pageTitle","onSubmit","onGrid","onAddNew","onClear","onEdit","onView","redirectToGrid","submitClick","clearClick"],["headers",""],[1,"div-padding"],[1,"card"],[1,"field","col-12","md:col-6","sm:col-6","lg:col-3","xl:col-3"],[3,"labelName","inputModel","disabled","errorMessages","inputModelChange","onBlur"],[3,"labelName","inputModel","options","disabled","optionLabel","optionValue","inputModelChange","onChange"],[3,"labelName","inputModel","options","disabled","optionLabel","optionValue","inputModelChange"],[3,"labelName","inputModel","disabled","inputModelChange"],[3,"labelName","inputModel","disabled","options","optionLabel","optionValue","inputModelChange"],["saving",""]],template:function(t,e){1&t&&(i.TgZ(0,"div",0)(1,"div")(2,"app-header",1,2),i.NdJ("submitClick",function(){return e.onSaveClick()})("clearClick",function(){return e.onClearClick()}),i.qZA()(),i.TgZ(4,"div",3)(5,"div",4)(6,"p-scrollPanel")(7,"div",5)(8,"app-inputtext",6),i.NdJ("inputModelChange",function(s){return e.genericDetails.genericName=s})("onBlur",function(){return e.onGetErrorMsgs("genericName",!0)}),i.qZA(),i.TgZ(9,"app-dropdown",7),i.NdJ("inputModelChange",function(s){return e.genericDetails.clasificationName=s})("onChange",function(){return e.onSubClasification(e.genericDetails.clasificationName)}),i.qZA(),i.TgZ(10,"app-dropdown",8),i.NdJ("inputModelChange",function(s){return e.genericDetails.subClassificationName=s}),i.qZA(),i.TgZ(11,"app-inputtext",9),i.NdJ("inputModelChange",function(s){return e.genericDetails.standrdAdultDose=s}),i.qZA(),i.TgZ(12,"app-dropdown",10),i.NdJ("inputModelChange",function(s){return e.genericDetails.crability=s}),i.qZA(),i.TgZ(13,"app-dropdown",10),i.NdJ("inputModelChange",function(s){return e.genericDetails.status=s}),i.qZA()()()()()(),i._UZ(14,"app-saving",null,11)),2&t&&(i.xp6(2),i.Q6J("pageTitle",e.pageTitle)("onSubmit",e.onSubmit)("onGrid",!0)("onAddNew",!1)("onClear",e.onClear)("onEdit",e.onEdit)("onView",e.onView)("redirectToGrid",e.redirectToGrid),i.xp6(4),i.Akn(i.DdM(41,v)),i.xp6(2),i.s9C("errorMessages",e.errorMsgs.genericNameReq),i.Q6J("labelName","Generic Name")("inputModel",e.genericDetails.genericName)("disabled",!e.isEditable),i.xp6(1),i.Q6J("labelName","Classification Name")("inputModel",e.genericDetails.clasificationName)("options",e.geneticClassificationList)("disabled",!e.isEditable)("optionLabel","clasificationName")("optionValue","_id"),i.xp6(1),i.Q6J("labelName","Sub Classification Name")("inputModel",e.genericDetails.subClassificationName)("options",e.geneticSubClassificationList)("disabled",!e.isEditable)("optionLabel","subClasificationName")("optionValue","_id"),i.xp6(1),i.Q6J("labelName","standrd Adult Dose")("inputModel",e.genericDetails.standrdAdultDose)("disabled",!e.isEditable),i.xp6(1),i.Q6J("labelName","Crability")("inputModel",e.genericDetails.crability)("disabled",!e.isEditable)("options",e.critialityList)("optionLabel","subMasterName")("optionValue","subMasterId"),i.xp6(1),i.Q6J("labelName","Status")("inputModel",e.genericDetails.status)("disabled",!e.isEditable)("options",e.statusList)("optionLabel","subMasterName")("optionValue","subMasterId"))},dependencies:[f.P,M.G,G.J,c.G,u.g]}),r})();var D=n(8032);const E=[{path:"",component:N}];let y=(()=>{var o;class r{}return(o=r).\u0275fac=function(t){return new(t||o)},o.\u0275mod=i.oAB({type:o}),o.\u0275inj=i.cJS({imports:[m.ez,D.u,g.Bz.forChild(E)]}),r})()}}]);