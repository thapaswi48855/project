"use strict";(self.webpackChunksakiademo=self.webpackChunksakiademo||[]).push([[1219],{7934:(E,p,r)=>{r.d(p,{G:()=>w});var m=r(5861),e=r(4946),_=r(7664),C=r(6113),o=r(5219),h=r(6814),g=r(707),v=r(4104);function f(i,a){if(1&i){const l=e.EpF();e.TgZ(0,"button",12),e.NdJ("click",function(){e.CHM(l);const t=e.oxw();return e.KtG(t.onSaveClick())}),e.qZA()}}function b(i,a){if(1&i){const l=e.EpF();e.TgZ(0,"button",13),e.NdJ("click",function(){e.CHM(l);const t=e.oxw();return e.KtG(t.onGridClick())}),e.qZA()}}function k(i,a){if(1&i){const l=e.EpF();e.TgZ(0,"button",14),e.NdJ("click",function(){e.CHM(l);const t=e.oxw();return e.KtG(t.onAddNewClick())}),e.qZA()}}function A(i,a){if(1&i){const l=e.EpF();e.TgZ(0,"button",15),e.NdJ("click",function(){e.CHM(l);const t=e.oxw();return e.KtG(t.onClearClick())}),e.qZA()}}function N(i,a){if(1&i){const l=e.EpF();e.TgZ(0,"button",16),e.NdJ("click",function(){e.CHM(l);const t=e.oxw();return e.KtG(t.onEditClick())}),e.qZA()}}function M(i,a){if(1&i){const l=e.EpF();e.TgZ(0,"button",17),e.NdJ("click",function(){e.CHM(l);const t=e.oxw();return e.KtG(t.onSaveApproveClick())}),e.qZA()}}function T(i,a){if(1&i){const l=e.EpF();e.TgZ(0,"button",18),e.NdJ("click",function(){e.CHM(l);const t=e.oxw();return e.KtG(t.onSavePrintClick())}),e.qZA()}}let w=(()=>{var i;class a{constructor(n,t,c,s){this._router=n,this._service=t,this._activatedRoute=c,this._messageService=s,this.pageTitle="",this.onSubmit=!1,this.onGrid=!1,this.onAddNew=!1,this.onClear=!1,this.onEdit=!1,this.onView=!1,this.export=!1,this.redirectToGrid=!1,this.onSaveApprove=!1,this.onSavePrint=!1,this.gridClick=new e.vpe,this.addNewClick=new e.vpe,this.clearClick=new e.vpe,this.editClick=new e.vpe,this.viewClick=new e.vpe,this.submitClick=new e.vpe,this.saveApproveClick=new e.vpe,this.savePrintClick=new e.vpe,this.routerAddNew="",this.routerGridView=""}ngOnInit(){var n=this;return(0,m.Z)(function*(){0==Object.keys(n._service.appConfig).length&&(yield n._service.getConfigData()),console.log(n),n._activatedRoute.paramMap.subscribe(function(){var t=(0,m.Z)(function*(c){let s=c.get("params");if(null!=s&&null!=s){let u=JSON.parse(atob(s)),d=n._service.getDocPermissions(u).subscribe(D=>{d=D.data[0],n.permissions(u,d)})}else n._router.navigate(["/home"],{relativeTo:n._activatedRoute})});return function(c){return t.apply(this,arguments)}}())})()}permissions(n,t){console.log("aaa",n),null!=n&&null!=n&&(this.pageTitle=t.documentname,this.docAccSubmit=t.docAccSubmit,this.docAccGridView=t.docAccGridView,this.docAccAddNew=t.docAccAddNew,this.docAccClear=t.docAccClear,this.docAccEdit=t.docAccEdit,this.docAccView=t.docAccView,this.docAccExport=t.docAccExport,this.routerAddNew=`/home/${t.documentpageurl}`,this.routerGridView=`/home/${t.documentgridUrl}`,this.docParams=n,this.docAccPer=t)}onGridClick(){this.gridClick.emit(!0);let n=btoa(JSON.stringify(this.docParams));btoa(JSON.stringify(this.docAccPer)),this._router.navigate([this.routerGridView,{params:n}],{relativeTo:this._activatedRoute})}onAddNewClick(){this.addNewClick.emit(!0);let n=btoa(JSON.stringify(this.docParams));this._router.navigate([this.routerAddNew,{params:n}],{relativeTo:this._activatedRoute})}onClearClick(){this.clearClick.emit(!0)}onEditClick(){this.editClick.emit(!0)}onViewClick(){this.viewClick.emit(!0)}onSaveClick(){this.submitClick.emit(!0)}onMessageClose(){1==this.redirectToGrid&&this.onGridClick()}onSaveApproveClick(){this.saveApproveClick.emit(!0)}onSavePrintClick(){this.savePrintClick.emit(!0)}}return(i=a).\u0275fac=function(n){return new(n||i)(e.Y36(_.F0),e.Y36(C.f),e.Y36(_.gz),e.Y36(o.ez))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-header"]],inputs:{pageTitle:"pageTitle",onSubmit:"onSubmit",onGrid:"onGrid",onAddNew:"onAddNew",onClear:"onClear",onEdit:"onEdit",onView:"onView",export:"export",redirectToGrid:"redirectToGrid",onSaveApprove:"onSaveApprove",onSavePrint:"onSavePrint"},outputs:{gridClick:"gridClick",addNewClick:"addNewClick",clearClick:"clearClick",editClick:"editClick",viewClick:"viewClick",submitClick:"submitClick",saveApproveClick:"saveApproveClick",savePrintClick:"savePrintClick"},decls:13,vars:8,consts:[[1,"flex","justify-content-between","flex-wrap","p-1",2,"background-color","antiquewhite"],[1,"flex","align-items-center","justify-content-center","font-bold","border-round","m-2"],[2,"text-align","center"],[1,"flex","align-items-center","justify-content-center","font-bold","border-round","gap-1"],["pButton","","pRipple","","label","Submit","class","p-button-success",3,"click",4,"ngIf"],["pButton","","pRipple","","label","GridView","class","p-button-success",3,"click",4,"ngIf"],["pButton","","pRipple","","label","Add New","class","p-button-success",3,"click",4,"ngIf"],["pButton","","pRipple","","label","Clear","class","p-button-success",3,"click",4,"ngIf"],["pButton","","pRipple","","label","Edit","class","p-button-success",3,"click",4,"ngIf"],["pButton","","pRipple","","label","Save & Approve","class","p-button-success",3,"click",4,"ngIf"],["pButton","","pRipple","","label","Save & Print","class","p-button-success",3,"click",4,"ngIf"],[3,"onClose"],["pButton","","pRipple","","label","Submit",1,"p-button-success",3,"click"],["pButton","","pRipple","","label","GridView",1,"p-button-success",3,"click"],["pButton","","pRipple","","label","Add New",1,"p-button-success",3,"click"],["pButton","","pRipple","","label","Clear",1,"p-button-success",3,"click"],["pButton","","pRipple","","label","Edit",1,"p-button-success",3,"click"],["pButton","","pRipple","","label","Save & Approve",1,"p-button-success",3,"click"],["pButton","","pRipple","","label","Save & Print",1,"p-button-success",3,"click"]],template:function(n,t){1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"span",2),e._uU(3),e.qZA()(),e.TgZ(4,"div",3),e.YNc(5,f,1,0,"button",4),e.YNc(6,b,1,0,"button",5),e.YNc(7,k,1,0,"button",6),e.YNc(8,A,1,0,"button",7),e.YNc(9,N,1,0,"button",8),e.YNc(10,M,1,0,"button",9),e.YNc(11,T,1,0,"button",10),e.qZA()(),e.TgZ(12,"p-toast",11),e.NdJ("onClose",function(){return t.onMessageClose()}),e.qZA()),2&n&&(e.xp6(3),e.hij(" ",t.pageTitle,""),e.xp6(2),e.Q6J("ngIf",t.onSubmit&&t.docAccSubmit),e.xp6(1),e.Q6J("ngIf",t.onGrid&&t.docAccGridView),e.xp6(1),e.Q6J("ngIf",t.onAddNew&&t.docAccAddNew),e.xp6(1),e.Q6J("ngIf",t.onClear&&t.docAccClear),e.xp6(1),e.Q6J("ngIf",t.onEdit&&t.docAccEdit),e.xp6(1),e.Q6J("ngIf",t.onSaveApprove),e.xp6(1),e.Q6J("ngIf",t.onSavePrint))},dependencies:[h.O5,g.Hq,v.FN]}),a})()},1219:(E,p,r)=>{r.r(p),r.d(p,{DocumentModule:()=>w});var m=r(6814),e=r(5861),_=r(6990),C=r(7934),o=r(4946),h=r(6113),g=r(7664),v=r(7338),f=r(8911),b=r(1730),k=r(8213);const A=function(){return{width:"100%",height:" calc(100vh - 136px)"}};let N=(()=>{var i;class a{constructor(n,t){this._service=n,this._activactiveRoute=t,this.pageTitle="Document",this.onSubmit=!0,this.onGrid=!0,this.onAddNew=!0,this.onClear=!0,this.pageMode="NEW",this.document={_id:"",documentName:"",documentPageUrl:"",documentGridUrl:"",documentDescription:"",status:!0},this.emptyDocument=JSON.stringify(this.document),this.currentRow=[],this.errorMsgs={documentReq:"",documentPageUrlReq:""}}onGetErrorMsgs(n,t){switch(n){case"documentName":this.errorMsgs.documentReq=""==this.document[n]||null==this.document[n]||null==this.document[n]?this._service.onGetErrorMsgs("documentName",!0,"Document Name"):"";break;case"documentPageUrl":this.errorMsgs.documentPageUrlReq=""==this.document[n]||null==this.document[n]||null==this.document[n]?this._service.onGetErrorMsgs("documentPageUrl",!0,"Document Page Url Name"):""}}ngOnInit(){var n=this;return(0,e.Z)(function*(){0==Object.keys(n._service.appConfig).length&&(yield n._service.getConfigData()),n._activactiveRoute.paramMap.subscribe(function(){var t=(0,e.Z)(function*(c){let s=c.get("param");if(null!=s&&null!=s){let u=JSON.parse(atob(s));console.log(u),n._service.serGetDataobject("documents",{_id:u._id}).subscribe(d=>{console.log(d),n.currentRow=d.data[0],n.document={documentName:n.currentRow.document,documentPageUrl:n.currentRow.documentpageurl,documentGridUrl:n.currentRow.documentgridUrl,documentDescription:n.currentRow.documentdescription,status:!0}}),n.pageMode="EDIT"}console.log(s)});return function(c){return t.apply(this,arguments)}}())})()}onGridClick(){}onSaveClick(){if(_.forEach(["documentName","documentPageUrl"],s=>{this.onGetErrorMsgs(s,!0)}),this._service.showErr(this.errorMsgs))return;let c={_id:"NEW"==this.pageMode?0:this.currentRow._id,document:this.document.documentName,documentpageurl:this.document.documentPageUrl,documentgridUrl:this.document.documentGridUrl,documentdescription:this.document.documentDescription,Status:1==this.document.status?"A":"D"};0==c._id&&delete c._id,this._service.onSaveJson(this.pageTitle,"insertDocuments",[c]),this.onClearClick()}onClearClick(){this.document=JSON.parse(this.emptyDocument),this.pageMode="NEW"}}return(i=a).\u0275fac=function(n){return new(n||i)(o.Y36(h.f),o.Y36(g.gz))},i.\u0275cmp=o.Xpm({type:i,selectors:[["app-document"]],viewQuery:function(n,t){if(1&n&&o.Gf(C.G,5),2&n){let c;o.iGM(c=o.CRH())&&(t.header=c.first)}},decls:22,vars:22,consts:[[1,""],[3,"pageTitle","onSubmit","onGrid","onAddNew","onClear","gridClick","submitClick","clearClick"],["headers",""],["styleClass","custombar1"],[1,"flex-fill","border","p-2","overflow-auto"],[1,"row","g-2","p-2"],[1,"formgrid","grid"],[1,"field","col-12","md:col-4","sm:col-4","lg:col-3","xl:col-2"],[3,"inputModel","labelName","errorMessages","inputModelChange","onBlur"],[3,"inputModel","labelName","inputModelChange"],[3,"labelName","rows","cols","inputModel","inputModelChange"],[3,"labelName","inputModel","inputModelChange"]],template:function(n,t){1&n&&(o.TgZ(0,"div",0)(1,"div")(2,"app-header",1,2),o.NdJ("gridClick",function(){return t.onGridClick()})("submitClick",function(){return t.onSaveClick()})("clearClick",function(){return t.onClearClick()}),o.qZA()(),o.TgZ(4,"p-scrollPanel",3)(5,"div",4)(6,"div",5)(7,"div",6)(8,"div",7)(9,"app-inputtext",8),o.NdJ("inputModelChange",function(s){return t.document.documentName=s})("onBlur",function(){return t.onGetErrorMsgs("documentName",!0)}),o.qZA()()(),o.TgZ(10,"div",6)(11,"div",7)(12,"app-inputtext",8),o.NdJ("inputModelChange",function(s){return t.document.documentPageUrl=s})("onBlur",function(){return t.onGetErrorMsgs("documentPageUrl",!0)}),o.qZA()()(),o.TgZ(13,"div",6)(14,"div",7)(15,"app-inputtext",9),o.NdJ("inputModelChange",function(s){return t.document.documentGridUrl=s}),o.qZA()()(),o.TgZ(16,"div",6)(17,"div",7)(18,"app-textarea",10),o.NdJ("inputModelChange",function(s){return t.document.documentDescription=s}),o.qZA()()(),o.TgZ(19,"div",6)(20,"div",7)(21,"app-checkbox",11),o.NdJ("inputModelChange",function(s){return t.document.status=s}),o.qZA()()()()()()()),2&n&&(o.xp6(2),o.Q6J("pageTitle",t.pageTitle)("onSubmit",t.onSubmit)("onGrid",t.onGrid)("onAddNew",t.onAddNew)("onClear",t.onClear),o.xp6(2),o.Akn(o.DdM(21,A)),o.xp6(5),o.s9C("errorMessages",t.errorMsgs.documentReq),o.Q6J("inputModel",t.document.documentName)("labelName","Document Name"),o.xp6(3),o.s9C("errorMessages",t.errorMsgs.documentPageUrlReq),o.Q6J("inputModel",t.document.documentPageUrl)("labelName","Page Url"),o.xp6(3),o.Q6J("inputModel",t.document.documentGridUrl)("labelName","Grid Url"),o.xp6(3),o.Q6J("labelName","Document Description")("rows","2")("cols","5")("inputModel",t.document.documentDescription),o.xp6(3),o.Q6J("labelName","Status")("inputModel",t.document.status))},dependencies:[v.P,f.G,C.G,b.b,k.R]}),a})();var M=r(8032);const T=[{path:"",component:N}];let w=(()=>{var i;class a{}return(i=a).\u0275fac=function(n){return new(n||i)},i.\u0275mod=o.oAB({type:i}),i.\u0275inj=o.cJS({imports:[m.ez,M.u,g.Bz.forChild(T)]}),a})()}}]);