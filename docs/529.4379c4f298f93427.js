"use strict";(self.webpackChunksakiademo=self.webpackChunksakiademo||[]).push([[529],{529:(y,p,i)=>{i.r(p),i.d(p,{DepartmentModule:()=>E});var c=i(6814),h=i(5861),l=i(7934),m=i(1038),g=i(6990),t=i(4946),C=i(6113),u=i(7664),M=i(5219),b=i(7338),f=i(8911),v=i(2154);const D=function(){return{width:"100%",height:" calc(100vh - 120px)"}};let N=(()=>{var s;class o{constructor(a,e,n){this._service=a,this._activatedRoute=e,this._messageService=n,this.pageTitle="Department",this.onSubmit=!0,this.onClear=!0,this.onEdit=!1,this.onView=!1,this.pageMode="NEW",this.isEditable=!1,this.isShowEditable=!0,this.redirectToGrid=!1,this.department={department:"",departmentType:"",allowedGender:"ZLG11",costCenterCode:"",referralDoctorAsOrderingClinician:"ZLAS11",status:"ZLS11",createdt:null,createby:"",modifydt:null,modifyby:""},this.emptyDepartment=JSON.stringify(this.department),this.geneticClassificationList=[],this.geneticSubClassificationList=[],this.zeroLevelEntity=[],this.critialityList=[],this.statusList=[],this.errorMsgs={clasificationNameReq:"",genericNameReq:""},this.departmentTypeList=[],this.genderList=[],this.referralDoctor=[]}onGetErrorMsgs(a,e){switch(a){case"clasificationName":this.errorMsgs.clasificationNameReq=""==this.department[a]||null==this.department[a]||null==this.department[a]?this._service.onGetErrorMsgs(a,!0,"Clasification Name"):"";break;case"genericName":this.errorMsgs.genericNameReq=""==this.department[a]||null==this.department[a]||null==this.department[a]?this._service.onGetErrorMsgs(a,!0,"Generic Name"):""}}ngOnInit(){var a=this;return(0,h.Z)(function*(){0==Object.keys(a._service.appConfig).length&&(yield a._service.getConfigData()),a._activatedRoute.paramMap.subscribe(e=>{let n=e.get("param");null!=n?(n=JSON.parse(atob(n)),a.getMasterData(n._id),a.pageMode=n.mode):(a.isEditable=!0,a.pageMode="NEW"),a.isEditable="VIEW"!=a.pageMode}),a._service.serGetDataobject("getGeneralMaster",{masterid:"ZLS1"}).subscribe(e=>{a.statusList=e.data[0].subMasterData}),a._service.serGetDataobject("getGeneralMaster",{masterid:"ZLDT1"}).subscribe(e=>{a.departmentTypeList=e.data[0].subMasterData}),a._service.serGetDataobject("getGeneralMaster",{masterid:"ZLG1"}).subscribe(e=>{a.genderList=e.data[0].subMasterData}),a._service.serGetDataobject("getGeneralMaster",{masterid:"\tZLAS2"}).subscribe(e=>{a.referralDoctor=e.data[0].subMasterData})})()}getMasterData(a){this._service.serGetDataobject("getGenericDetails",{_id:a}).subscribe(e=>{console.log("dt",e),this.department=e.data[0],this.department._id=this.department._id,this.isShowEditable=!this.isEditable&&"NEW"!=this.pageMode})}onGridClick(){}onSaveClick(){g.forEach(["genericName","clasificationName"],r=>{}),this._service.showErr(this.errorMsgs)&&this._messageService.add({sticky:!0,severity:"warn",summary:"Warn",detail:"Please Check the below Errors"}),this.saving.onSaveJson(this.pageTitle,"insertDepartment",[this.department]),this.onClearClick(),this.redirectToGrid="NEW"!=this.pageMode}onClearClick(){this.department=JSON.parse(this.emptyDepartment)}}return(s=o).\u0275fac=function(a){return new(a||s)(t.Y36(C.f),t.Y36(u.gz),t.Y36(M.ez))},s.\u0275cmp=t.Xpm({type:s,selectors:[["app-department"]],viewQuery:function(a,e){if(1&a&&(t.Gf(l.G,5),t.Gf(m.g,5)),2&a){let n;t.iGM(n=t.CRH())&&(e.header=n.first),t.iGM(n=t.CRH())&&(e.saving=n.first)}},decls:16,vars:43,consts:[[1,""],[3,"pageTitle","onSubmit","onGrid","onAddNew","onClear","onEdit","onView","redirectToGrid","submitClick","clearClick"],["headers",""],[1,"div-padding"],[1,"card"],[1,"field","col-12","md:col-6","sm:col-6","lg:col-3","xl:col-3"],[3,"labelName","inputModel","disabled","errorMessages","inputModelChange","onBlur"],[3,"labelName","inputModel","options","disabled","errorMessages","optionLabel","optionValue","inputModelChange","onBlur"],[3,"labelName","inputModel","disabled","options","optionLabel","optionValue","inputModelChange"],[3,"labelName","inputModel","options","disabled","optionLabel","optionValue","inputModelChange"],[3,"labelName","inputModel","disabled","inputModelChange"],["saving",""]],template:function(a,e){1&a&&(t.TgZ(0,"div",0)(1,"div")(2,"app-header",1,2),t.NdJ("submitClick",function(){return e.onSaveClick()})("clearClick",function(){return e.onClearClick()}),t.qZA()(),t.TgZ(4,"div",3)(5,"div",4)(6,"p-scrollPanel")(7,"div",5)(8,"app-inputtext",6),t.NdJ("inputModelChange",function(r){return e.department.department=r})("onBlur",function(){return e.onGetErrorMsgs("genericName",!0)}),t.qZA(),t.TgZ(9,"app-dropdown",7),t.NdJ("inputModelChange",function(r){return e.department.departmentType=r})("onBlur",function(){return e.onGetErrorMsgs("departmentType",!0)}),t.qZA(),t.TgZ(10,"app-dropdown",8),t.NdJ("inputModelChange",function(r){return e.department.status=r}),t.qZA(),t.TgZ(11,"app-dropdown",9),t.NdJ("inputModelChange",function(r){return e.department.allowedGender=r}),t.qZA(),t.TgZ(12,"app-inputtext",10),t.NdJ("inputModelChange",function(r){return e.department.costCenterCode=r}),t.qZA(),t.TgZ(13,"app-dropdown",8),t.NdJ("inputModelChange",function(r){return e.department.referralDoctorAsOrderingClinician=r}),t.qZA()()()()()(),t._UZ(14,"app-saving",null,11)),2&a&&(t.xp6(2),t.Q6J("pageTitle",e.pageTitle)("onSubmit",e.onSubmit)("onGrid",!0)("onAddNew",!1)("onClear",e.onClear)("onEdit",e.onEdit)("onView",e.onView)("redirectToGrid",e.redirectToGrid),t.xp6(4),t.Akn(t.DdM(42,D)),t.xp6(2),t.s9C("errorMessages",e.errorMsgs.genericNameReq),t.Q6J("labelName","Department")("inputModel",e.department.department)("disabled",!e.isEditable),t.xp6(1),t.s9C("errorMessages",e.errorMsgs.departmentTypeReq),t.Q6J("labelName","Department Type")("inputModel",e.department.departmentType)("options",e.departmentTypeList)("disabled",!e.isEditable)("optionLabel","subMasterName")("optionValue","subMasterId"),t.xp6(1),t.Q6J("labelName","Status")("inputModel",e.department.status)("disabled",!e.isEditable)("options",e.statusList)("optionLabel","subMasterName")("optionValue","subMasterId"),t.xp6(1),t.Q6J("labelName","Allowed Gender")("inputModel",e.department.allowedGender)("options",e.genderList)("disabled",!e.isEditable)("optionLabel","subMasterName")("optionValue","subMasterId"),t.xp6(1),t.Q6J("labelName","Cost Center Code")("inputModel",e.department.costCenterCode)("disabled",!e.isEditable),t.xp6(1),t.Q6J("labelName","Send Referral Doctor As Ordering Clinician")("inputModel",e.department.referralDoctorAsOrderingClinician)("disabled",!e.isEditable)("options",e.referralDoctor)("optionLabel","subMasterName")("optionValue","subMasterId"))},dependencies:[b.P,f.G,v.J,l.G,m.g],encapsulation:2}),o})();var T=i(8032);const G=[{path:"",component:N}];let E=(()=>{var s;class o{}return(s=o).\u0275fac=function(a){return new(a||s)},s.\u0275mod=t.oAB({type:s}),s.\u0275inj=t.cJS({imports:[c.ez,T.u,u.Bz.forChild(G)]}),o})()}}]);