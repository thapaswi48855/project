"use strict";(self.webpackChunksakiademo=self.webpackChunksakiademo||[]).push([[1219],{1219:(U,a,i)=>{i.r(a),i.d(a,{DocumentModule:()=>T});var h=i(6814),c=i(5861),C=i(6990),l=i(7934),e=i(4946),v=i(6113),m=i(7664),f=i(7338),M=i(8911),D=i(1730),N=i(8213);const b=function(){return{width:"100%",height:" calc(100vh - 136px)"}};let y=(()=>{var u;class d{constructor(t,n){this._service=t,this._activactiveRoute=n,this.pageTitle="Document",this.onSubmit=!0,this.onGrid=!0,this.onAddNew=!0,this.onClear=!0,this.pageMode="NEW",this.document={documentid:0,documentName:"",documentPageUrl:"",documentGridUrl:"",documentDescription:"",status:!0,createdt:null,createby:this._service.getUserVal("userid"),modifydt:null,modifyby:""},this.emptyDocument=JSON.stringify(this.document),this.currentRow=[],this.errorMsgs={documentReq:"",documentPageUrlReq:""}}onGetErrorMsgs(t,n){switch(t){case"documentName":this.errorMsgs.documentReq=""==this.document[t]||null==this.document[t]||null==this.document[t]?this._service.onGetErrorMsgs("documentName",!0,"Document Name"):"";break;case"documentPageUrl":this.errorMsgs.documentPageUrlReq=""==this.document[t]||null==this.document[t]||null==this.document[t]?this._service.onGetErrorMsgs("documentPageUrl",!0,"Document Page Url Name"):""}}ngOnInit(){var t=this;return(0,c.Z)(function*(){0==Object.keys(t._service.appConfig).length&&(yield t._service.getConfigData()),t._activactiveRoute.paramMap.subscribe(function(){var n=(0,c.Z)(function*(o){let r=o.get("param");if(null!=r&&null!=r){let p=JSON.parse(atob(r));console.log(p),t._service.serGetDataobject("documents",{_id:p._id}).subscribe(g=>{console.log(g),t.currentRow=g.data[0],t.document={documentid:t.currentRow.documentid,documentName:t.currentRow.document,documentPageUrl:t.currentRow.documentpageurl,documentGridUrl:t.currentRow.documentgridUrl,documentDescription:t.currentRow.documentdescription,status:"A"==t.document.status,createdt:null,createby:t.currentRow.createby,modifydt:null,modifyby:t._service.getUserVal("userid")}}),t.pageMode="EDIT"}console.log(r)});return function(o){return n.apply(this,arguments)}}())})()}onGridClick(){}onSaveClick(){if(C.forEach(["documentName","documentPageUrl"],r=>{this.onGetErrorMsgs(r,!0)}),this._service.showErr(this.errorMsgs))return;let o={documentid:"NEW"==this.pageMode?0:this.currentRow.documentid,document:this.document.documentName,documentpageurl:this.document.documentPageUrl,documentgridUrl:this.document.documentGridUrl,documentdescription:this.document.documentDescription,Status:1==this.document.status?"A":"D",createdt:null,createby:this._service.getUserVal("userid"),modifydt:null,modifyby:""};this._service.onSaveJson(this.pageTitle,"insertDocuments",[o]),this.onClearClick()}onClearClick(){this.document=JSON.parse(this.emptyDocument),this.pageMode="NEW"}}return(u=d).\u0275fac=function(t){return new(t||u)(e.Y36(v.f),e.Y36(m.gz))},u.\u0275cmp=e.Xpm({type:u,selectors:[["app-document"]],viewQuery:function(t,n){if(1&t&&e.Gf(l.G,5),2&t){let o;e.iGM(o=e.CRH())&&(n.header=o.first)}},decls:22,vars:22,consts:[[1,""],[3,"pageTitle","onSubmit","onGrid","onAddNew","onClear","gridClick","submitClick","clearClick"],["headers",""],["styleClass","custombar1"],[1,"flex-fill","border","p-2","overflow-auto"],[1,"row","g-2","p-2"],[1,"formgrid","grid"],[1,"field","col-12","md:col-4","sm:col-4","lg:col-3","xl:col-2"],[3,"inputModel","labelName","errorMessages","inputModelChange","onBlur"],[3,"inputModel","labelName","inputModelChange"],[3,"labelName","rows","cols","inputModel","inputModelChange"],[3,"labelName","inputModel","inputModelChange"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div")(2,"app-header",1,2),e.NdJ("gridClick",function(){return n.onGridClick()})("submitClick",function(){return n.onSaveClick()})("clearClick",function(){return n.onClearClick()}),e.qZA()(),e.TgZ(4,"p-scrollPanel",3)(5,"div",4)(6,"div",5)(7,"div",6)(8,"div",7)(9,"app-inputtext",8),e.NdJ("inputModelChange",function(r){return n.document.documentName=r})("onBlur",function(){return n.onGetErrorMsgs("documentName",!0)}),e.qZA()()(),e.TgZ(10,"div",6)(11,"div",7)(12,"app-inputtext",8),e.NdJ("inputModelChange",function(r){return n.document.documentPageUrl=r})("onBlur",function(){return n.onGetErrorMsgs("documentPageUrl",!0)}),e.qZA()()(),e.TgZ(13,"div",6)(14,"div",7)(15,"app-inputtext",9),e.NdJ("inputModelChange",function(r){return n.document.documentGridUrl=r}),e.qZA()()(),e.TgZ(16,"div",6)(17,"div",7)(18,"app-textarea",10),e.NdJ("inputModelChange",function(r){return n.document.documentDescription=r}),e.qZA()()(),e.TgZ(19,"div",6)(20,"div",7)(21,"app-checkbox",11),e.NdJ("inputModelChange",function(r){return n.document.status=r}),e.qZA()()()()()()()),2&t&&(e.xp6(2),e.Q6J("pageTitle",n.pageTitle)("onSubmit",n.onSubmit)("onGrid",n.onGrid)("onAddNew",n.onAddNew)("onClear",n.onClear),e.xp6(2),e.Akn(e.DdM(21,b)),e.xp6(5),e.s9C("errorMessages",n.errorMsgs.documentReq),e.Q6J("inputModel",n.document.documentName)("labelName","Document Name"),e.xp6(3),e.s9C("errorMessages",n.errorMsgs.documentPageUrlReq),e.Q6J("inputModel",n.document.documentPageUrl)("labelName","Page Url"),e.xp6(3),e.Q6J("inputModel",n.document.documentGridUrl)("labelName","Grid Url"),e.xp6(3),e.Q6J("labelName","Document Description")("rows","2")("cols","5")("inputModel",n.document.documentDescription),e.xp6(3),e.Q6J("labelName","Status")("inputModel",n.document.status))},dependencies:[f.P,M.G,l.G,D.b,N.R]}),d})();var _=i(8032);const G=[{path:"",component:y}];let T=(()=>{var u;class d{}return(u=d).\u0275fac=function(t){return new(t||u)},u.\u0275mod=e.oAB({type:u}),u.\u0275inj=e.cJS({imports:[h.ez,_.u,m.Bz.forChild(G)]}),d})()}}]);