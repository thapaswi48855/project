"use strict";(self.webpackChunksakiademo=self.webpackChunksakiademo||[]).push([[9089],{8213:(N,g,o)=>{o.d(g,{R:()=>M});var s=o(4946),_=o(6814),c=o(95),f=o(3259),b=o(218),e=o(6218);const v=function(m,u){return{"ng-invalid":m,"ng-dirty":u}};let M=(()=>{var m;class u{constructor(){this.inputModel="",this.errorMessages="",this.labelName="",this.isMandatoryIcon=!1,this.rows=0,this.cols=0,this.disabled=!1,this.onBlur=new s.vpe,this.inputModelChange=new s.vpe}ngOnInit(){}onLeaveControl(){this.inputModelChange.emit(this.inputModel),this.onBlur.emit(!0)}}return(m=u).\u0275fac=function(h){return new(h||m)},m.\u0275cmp=s.Xpm({type:m,selectors:[["app-textarea"]],inputs:{inputModel:"inputModel",errorMessages:"errorMessages",labelName:"labelName",isMandatoryIcon:"isMandatoryIcon",rows:"rows",cols:"cols",disabled:"disabled"},outputs:{onBlur:"onBlur",inputModelChange:"inputModelChange"},decls:7,vars:10,consts:[[1,"justify-content-center"],[1,"flex","flex-column","gap-2"],[1,"border-round","white-space-nowrap","overflow-hidden","text-overflow-ellipsis",3,"htmlFor"],["rows","rows","cols","cols","pInputTextarea","","pAutoFocus","",3,"ngModel","disabled","pTooltip","ngClass","ngModelChange","blur"],["id","username-help"]],template:function(h,d){1&h&&(s.TgZ(0,"div",0)(1,"div",1)(2,"label",2),s._uU(3),s.qZA(),s.TgZ(4,"textarea",3),s.NdJ("ngModelChange",function(G){return d.inputModel=G})("blur",function(){return d.onLeaveControl()}),s.qZA(),s.TgZ(5,"small",4),s._uU(6),s.qZA()()()),2&h&&(s.xp6(2),s.s9C("htmlFor",d.labelName),s.xp6(1),s.hij("",d.labelName," :"),s.xp6(1),s.s9C("pTooltip",d.errorMessages),s.Q6J("ngModel",d.inputModel)("disabled",d.disabled)("ngClass",s.WLB(7,v,""!==d.errorMessages,""!==d.errorMessages)),s.xp6(2),s.Oqu(d.errorMessages))},dependencies:[_.mk,c.Fj,c.JJ,c.On,f.u,b.P,e.g]}),u})()},9089:(N,g,o)=>{o.r(g),o.d(g,{GeneralmasterModule:()=>J});var s=o(6814),_=o(5861),c=o(7934),f=o(6819),b=o(6990),e=o(4946),v=o(6113),M=o(7664),m=o(5219),u=o(9232),C=o(7338),h=o(8911),d=o(2154),T=o(8213);function G(r,p){if(1&r&&(e.TgZ(0,"th",14),e._uU(1),e._UZ(2,"p-sortIcon",15),e.qZA()),2&r){const n=p.$implicit;e.Q6J("pSortableColumn",n.field)("ngStyle",n.style),e.xp6(1),e.hij(" ",n.header," "),e.xp6(1),e.Q6J("field",n.field)}}function D(r,p){if(1&r&&(e.TgZ(0,"tr"),e.YNc(1,G,3,4,"th",13),e.qZA()),2&r){const n=p.$implicit;e.xp6(1),e.Q6J("ngForOf",n)}}function E(r,p){if(1&r){const n=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td")(4,"app-inputtext",16),e.NdJ("inputModelChange",function(t){const l=e.CHM(n).$implicit;return e.KtG(l.subMasterName=t)}),e.qZA()(),e.TgZ(5,"td")(6,"app-textarea",16),e.NdJ("inputModelChange",function(t){const l=e.CHM(n).$implicit;return e.KtG(l.subMasterDesc=t)}),e.qZA()(),e.TgZ(7,"td")(8,"button",17),e.NdJ("click",function(){e.CHM(n);const t=e.oxw();return e.KtG(t.onAddClick())}),e._uU(9,"A"),e.qZA(),e.TgZ(10,"button",17),e.NdJ("click",function(){const i=e.CHM(n).$implicit,l=e.oxw();return e.KtG(l.onRemoveClick(i))}),e._uU(11,"R"),e.qZA()()()}if(2&r){const n=p.$implicit,a=p.rowIndex;e.xp6(2),e.Oqu(a+1),e.xp6(2),e.Q6J("inputModel",n.subMasterName),e.xp6(2),e.Q6J("inputModel",n.subMasterDesc)}}function y(r,p){if(1&r&&(e._uU(0),e.ALo(1,"json")),2&r){const n=p.$implicit,a=e.oxw();e.HOy(" ",e.lcZ(1,4,n)," Showing ",n.first+1," to ",a.math.min((n.page+1)*n.rows,n.totalRecords)," of ",n.totalRecords," Records ")}}const A=function(){return{width:"100%",height:" calc(100vh - 164px)"}};let Z=(()=>{var r;class p{constructor(a,t){this._service=a,this._activatedRoute=t,this.pageTitle="Master",this.onSubmit=!0,this.onClear=!0,this.onEdit=!1,this.onView=!1,this.pageMode="NEW",this.isEditable=!1,this.isShowEditable=!0,this.redirectToGrid=!1,this.showEdit=!0,this.showView=!0,this.subMasterCols=[{field:"masterName",header:"S No.",style:{width:"10rem"}},{field:"masterName",header:"Name",style:{width:"20rem"}},{field:"masterdesc",header:"Description",style:{width:"20rem"}},{field:"Action",header:"Action",style:{width:"5rem"}}],this.subMasterData=[{subMasterId:"",subMasterName:"",subMasterDesc:"",status:!0,createdt:null,createby:"",modifydt:null,modifyby:""}],this.emptysubMasterData=JSON.stringify(this.subMasterData),this.gridData=[],this.onGrid=!0,this.onAddNew=!0,this.master={masterid:"",mastername:"",masterdesc:"",subMasterData:[],status:!0},this.page=!1,this.selectMaster={},this.statusList=[],this.math=Math}ngOnInit(){var a=this;return(0,_.Z)(function*(){0==Object.keys(a._service.appConfig).length&&(yield a._service.getConfigData()),a._service.serGetDataobject("getGeneralMaster",{masterid:"ZLS1"}).subscribe(t=>{console.log(t),a.statusList=t.data[0].subMasterData,console.log("this.statusList",a.statusList)}),a._activatedRoute.paramMap.subscribe(t=>{let i=t.get("param");null!=i?(i=JSON.parse(atob(i)),a.getMasterData(i._id),a.pageMode=i.mode):(a.isEditable=!0,a.pageMode="NEW"),a.isEditable="VIEW"!=a.pageMode})})()}getMasterData(a){this._service.serGetDataobject("getGeneralMaster",{_id:a}).subscribe(t=>{console.log("dt",t),this.master=t.data[0],this.subMasterData=this.master.subMasterData,this.master.status="A"==this.master.status,this.master._id=this.master._id,this.isShowEditable=!this.isEditable&&"NEW"!=this.pageMode})}onClearClick(){}onSaveClick(){console.log(this.master),this.master.subMasterData=[],b.forEach(this.subMasterData,(t,i)=>{this.master.subMasterData.push({subMasterId:this.master.masterid+`${i+1}`,subMasterName:t.subMasterName,subMasterDesc:t.subMasterDesc,status:!0,createdt:null,createby:"",modifydt:null,modifyby:""})}),this._service.onSaveJson("Store","insertGeneralMaster",[this.master])}onActionClick(a,t){null!=t?(this.getMasterData(a._id),this.pageMode=t):(this.isEditable=!0,this.pageMode="NEW"),this.isEditable="VIEW"!=this.pageMode}onAddClick(){this.subMasterData.push(JSON.parse(this.emptysubMasterData))}onRemoveClick(a){a.status=!1}}return(r=p).\u0275fac=function(a){return new(a||r)(e.Y36(v.f),e.Y36(M.gz))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-generalmaster"]],viewQuery:function(a,t){if(1&a&&(e.Gf(c.G,5),e.Gf(f.J,5)),2&a){let i;e.iGM(i=e.CRH())&&(t.header=i.first),e.iGM(i=e.CRH())&&(t.gridView=i.first)}},decls:17,vars:29,consts:[[1,"d-flex","flex-column","h-100","overflow-hidden"],[3,"pageTitle","onSubmit","onGrid","onAddNew","onClear","onEdit","onView","redirectToGrid","submitClick","clearClick"],[1,"div-padding"],[1,"grid"],[1,"col-3"],[3,"labelName","inputModel","inputModelChange"],[3,"labelName","inputModel","options","optionLabel","optionValue","inputModelChange"],[1,"col-9"],["styleClass","p-datatable-gridlines","scrollHeight","flex",3,"columns","value","paginator","rows","responsive","resizableColumns","scrollable"],["dt",""],["pTemplate","header"],["pTemplate","body"],["pTemplate","paginatorleft"],["pResizableColumn","",3,"pSortableColumn","ngStyle",4,"ngFor","ngForOf"],["pResizableColumn","",3,"pSortableColumn","ngStyle"],[3,"field"],[3,"inputModel","inputModelChange"],[3,"click"]],template:function(a,t){1&a&&(e.TgZ(0,"div",0)(1,"div")(2,"app-header",1),e.NdJ("submitClick",function(){return t.onSaveClick()})("clearClick",function(){return t.onClearClick()}),e.qZA()(),e.TgZ(3,"div",2)(4,"p-scrollPanel")(5,"div",3)(6,"div",4)(7,"app-inputtext",5),e.NdJ("inputModelChange",function(l){return t.master.masterid=l}),e.qZA(),e.TgZ(8,"app-inputtext",5),e.NdJ("inputModelChange",function(l){return t.master.mastername=l}),e.qZA(),e.TgZ(9,"app-dropdown",6),e.NdJ("inputModelChange",function(l){return t.master.status=l}),e.qZA(),e.TgZ(10,"app-textarea",5),e.NdJ("inputModelChange",function(l){return t.master.masterdesc=l}),e.qZA()(),e.TgZ(11,"div",7)(12,"p-table",8,9),e.YNc(14,D,2,1,"ng-template",10),e.YNc(15,E,12,3,"ng-template",11),e.YNc(16,y,2,6,"ng-template",12),e.qZA()()()()()()),2&a&&(e.xp6(2),e.Q6J("pageTitle",t.pageTitle)("onSubmit",t.onSubmit)("onGrid",!0)("onAddNew",!1)("onClear",t.onClear)("onEdit",t.onEdit)("onView",t.onView)("redirectToGrid",t.redirectToGrid),e.xp6(2),e.Akn(e.DdM(28,A)),e.xp6(3),e.Q6J("labelName","ID")("inputModel",t.master.masterid),e.xp6(1),e.Q6J("labelName","Name")("inputModel",t.master.mastername),e.xp6(1),e.Q6J("labelName","Status")("inputModel",t.master.status)("options",t.statusList)("optionLabel","subMasterName")("optionValue","subMasterId"),e.xp6(1),e.Q6J("labelName","Description")("inputModel",t.master.masterdesc),e.xp6(2),e.Q6J("columns",t.subMasterCols)("value",t.subMasterData)("paginator",!0)("rows",25)("responsive",!0)("resizableColumns",!0)("scrollable",!0))},dependencies:[s.sg,s.PC,m.jx,u.iA,u.lQ,u.Q7,u.fz,C.P,h.G,d.J,c.G,T.R,s.Ts]}),p})();var x=o(8032);const w=[{path:"",component:Z}];let J=(()=>{var r;class p{}return(r=p).\u0275fac=function(a){return new(a||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[s.ez,x.u,M.Bz.forChild(w)]}),p})()}}]);